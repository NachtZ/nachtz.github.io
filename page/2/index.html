<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="dns-prefetch" href="http://nachtz.top">
  <title>一元硬币</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="北邮本科信安，硕士软件。">
<meta property="og:type" content="website">
<meta property="og:title" content="一元硬币">
<meta property="og:url" content="http://nachtz.top/page/2/index.html">
<meta property="og:site_name" content="一元硬币">
<meta property="og:description" content="北邮本科信安，硕士软件。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一元硬币">
<meta name="twitter:description" content="北邮本科信安，硕士软件。">
  
    <link rel="alternative" href="/atom.xml" title="一元硬币" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" type="text/css" href="/./main.f6a68c.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

</head>
</html>
<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="https://raw.githubusercontent.com/NachtZ/odl_test/master/11970866.jpg" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/">NachtZ</a></h1>
		</hgroup>
		
		<p class="header-subtitle">闷声发大财，可以为师矣。</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/tags/Resume/">面经</a></li>
	        
				<li><a href="/tags/DPDK/">DPDK</a></li>
	        
				<li><a href="/tags/Leetcode/">Leetcode</a></li>
	        
				<li><a href="/tags/Golang/">Golang</a></li>
	        
				<li><a href="/tags/SDN/">SDN</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'friends')" href="javascript:void(0)">友链</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于我</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/NachtZ" title="github" rel="external nofollow noopener noreferrer"><i class="icon-github"></i></a>
		        
					<a class="weibo" target="_blank" href="http://weibo.com/nachtz" title="weibo" rel="external nofollow noopener noreferrer"><i class="icon-weibo"></i></a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/nachtz" title="zhihu" rel="external nofollow noopener noreferrer"><i class="icon-zhihu"></i></a>
		        
					<a class="mail" target="_blank" href="mailto:nachtz@outlook.com" title="mail" rel="external nofollow noopener noreferrer"><i class="icon-mail"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="https://raw.githubusercontent.com/NachtZ/odl_test/master/11970866.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">NachtZ</h1>
			</hgroup>
			
			<p class="header-subtitle"><i class="icon icon-quo-left"></i>闷声发大财，可以为师矣。<i class="icon icon-quo-right"></i></p>
			
			
			
				
			
				
			
				
			
				
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/NachtZ" title="github" rel="external nofollow noopener noreferrer"><i class="icon-github"></i></a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/nachtz" title="weibo" rel="external nofollow noopener noreferrer"><i class="icon-weibo"></i></a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/nachtz" title="zhihu" rel="external nofollow noopener noreferrer"><i class="icon-zhihu"></i></a>
			        
						<a class="mail" target="_blank" href="mailto:nachtz@outlook.com" title="mail" rel="external nofollow noopener noreferrer"><i class="icon-mail"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 70%">
				
				
					<li style="width: 16.666666666666668%"><a href="/">主页</a></li>
		        
					<li style="width: 16.666666666666668%"><a href="/tags/Resume/">面经</a></li>
		        
					<li style="width: 16.666666666666668%"><a href="/tags/DPDK/">DPDK</a></li>
		        
					<li style="width: 16.666666666666668%"><a href="/tags/Leetcode/">Leetcode</a></li>
		        
					<li style="width: 16.666666666666668%"><a href="/tags/Golang/">Golang</a></li>
		        
					<li style="width: 16.666666666666668%"><a href="/tags/SDN/">SDN</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionheight="100" data-contentid="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-SDN_opendaylight_dev_bundle" class="article article-type-post  article-index" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/SDN_opendaylight_dev_bundle.html">在OpenDayLight控制器上开发Bundle</a>
    </h1>
  

        
        <a href="/SDN_opendaylight_dev_bundle.html" class="archive-article-date">
  	<time datetime="2017-01-08T05:24:31.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-01-08</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="在OpenDayLight控制器上开发Bundle"><a href="#在OpenDayLight控制器上开发Bundle" class="headerlink" title="在OpenDayLight控制器上开发Bundle"></a>在OpenDayLight控制器上开发Bundle</h2><hr>
<p><strong>odl远端仓库把startup project删除了。这个教程已经不再适用了。</strong><br>基于OpendayLight官网上的这篇文档翻译修改而来：<a href="http://docs.opendaylight.org/en/stable-boron/developer-guide/developing-apps-on-the-opendaylight-controller.html" rel="external nofollow noopener noreferrer" target="_blank">Developing Apps on the OpenDaylight controller
</a> </p>
<p>本文档适用于boron版本。其他版本不一定适用。</p>
<hr>
<h3 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h3><p>本文档旨在指导如何在ODL控制器上开发应用。本文档包含以下内容：</p>
<ol>
<li>创建一个简单的示例程序<code>Hello World</code>；</li>
<li>启动ODL控制器；</li>
<li>在<code>Hello World</code>测试简单的<code>Remote Procedure Call(RPC)</code>。</li>
</ol>
<h3 id="基础环境"><a href="#基础环境" class="headerlink" title="基础环境"></a>基础环境</h3><p>本文档需要以下基础开发环境：</p>
<ul>
<li>Maven 3.1.1 或更新的版本</li>
<li>JDK 7/8</li>
<li><p>合适的Maven <code>settings.xml</code>。可以通过一下途径获得默认的OpenDaylight <code>settings.xml</code></p>
  <figure class="highlight roboconf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cp -n ~/.m2/settings.xml&#123;,.<span class="attribute">orig&#125; ; \wget -q -O - https</span>://raw<span class="variable">.githubusercontent</span><span class="variable">.com</span>/opendaylight/odlparent/stable/boron/settings<span class="variable">.xml</span> &gt; ~/<span class="variable">.m</span>2/settings<span class="variable">.xml</span></div></pre></td></tr></table></figure>
<p>  <strong>在除Linux和Mac OS X以外的环境中，你需要修改上诉命令中maven的本地仓库地址<code>~/.m2/repository</code></strong></p>
</li>
</ul>
<h3 id="构建一个Example模块"><a href="#构建一个Example模块" class="headerlink" title="构建一个Example模块"></a>构建一个Example模块</h3><hr>
<p>按以下步骤构建：</p>
<ol>
<li><p>从Maven远端仓库中拉取一个初始工程。（第一次拉取的时候需要一定的时间）</p>
 <figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mvn archetype:generate -DarchetypeGroupId=org.opendaylight.controller -DarchetypeArtifactId=opendaylight-startup-archetype \</div><div class="line">-<span class="ruby">DarchetypeRepository=<span class="symbol">https:</span>/<span class="regexp">/nexus.opendaylight.org/content</span><span class="regexp">/repositories/public</span><span class="regexp">/ \</span></span></div><div class="line">-<span class="ruby"><span class="regexp">DarchetypeCatalog=https:/</span><span class="regexp">/nexus.opendaylight.org/content</span><span class="regexp">/repositories/public</span><span class="regexp">/archetype-catalog.xml</span></span></div></pre></td></tr></table></figure>
<p> 在国内，由于墙的缘故，你可能需要设置代理才能较快的下载工程。设置代理的参数如下：</p>
 <figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">-DsocksProxyHost</span>=YourProxyHost -DsocksProxyPort=YourProxyPort</div></pre></td></tr></table></figure>
<p> 此外你还可以使用多线程编译，跳过生成文档，跳过测试来加快速度：</p>
 <figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">-T <span class="number">1</span>C -D maven<span class="selector-class">.javadoc</span><span class="selector-class">.skip</span>=true -DskipTests</div></pre></td></tr></table></figure>
</li>
<li><p>使用如下值来初始化工程：</p>
 <figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'groupId'</span>: : org.opendaylight.example</div><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'artifactId'</span>: : example</div><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'version'</span>:  <span class="number">1.0</span>-SNAPSHOT: : <span class="number">1.0</span>.<span class="number">0</span>-SNAPSHOT</div><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'package'</span>:  org.opendaylight.example: :</div><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'classPrefix'</span>: : $&#123;artifactId.substring(<span class="number">0</span>,<span class="number">1</span>).toUpperCase()&#125;$&#123;artifactId.substring(<span class="number">1</span>)&#125;</div><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'copyright'</span>: : Copyright (c) <span class="number">2015</span> Yoyodyne, Inc.</div></pre></td></tr></table></figure>
<p> 其中，<code>version</code>,<code>package</code>,<code>classPrefix</code>都会默认填写，直接回车就行。</p>
</li>
<li><p>完成步骤1,2后，可以看到一个<code>example</code>文件夹。可以看到如下目录结构。</p>
 <figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$&#123;artifactId&#125;/</div><div class="line"><span class="built_in">example</span>/</div><div class="line">cd <span class="built_in">example</span>/</div><div class="line">api/</div><div class="line">artifacts/</div><div class="line"><span class="built_in">features</span>/</div><div class="line">impl/</div><div class="line">karaf/</div><div class="line">pom.xml</div></pre></td></tr></table></figure>
</li>
<li><p>构建示例工程。<br> <strong>注意，这个可能需要耗费一定的时间，你可以使用1中提到的maven参数来提升编译速度。</strong></p>
 <figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">mvn </span>clean install</div></pre></td></tr></table></figure>
</li>
<li><p>启动ODL控制器。</p>
 <figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> karaf/target/assembly/bin</div><div class="line"><span class="keyword">ls</span></div><div class="line">./karaf</div></pre></td></tr></table></figure>
</li>
<li><p>等待直至启动完毕出现以下命令行。可能需要等一段时间，这个时间和你电脑配置有关。</p>
 <figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">opendaylight-user<span class="meta">@root</span>&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>查看日志，确认<code>example</code>模块被正常加载。</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">lo</span><span class="variable">g:display</span> | <span class="keyword">grep</span> Example</div></pre></td></tr></table></figure>
</li>
<li><p>关闭ODL控制器。</p>
 <figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">shutdown</span> -f</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="定义一个简单的-Hello-World-RPC"><a href="#定义一个简单的-Hello-World-RPC" class="headerlink" title="定义一个简单的`Hello World RPC"></a>定义一个简单的<code>`Hello World</code> RPC</h3><ol>
<li><p>从maven远端仓库拉取初始工程。</p>
 <figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mvn archetype:generate -DarchetypeGroupId=org.opendaylight.controller -DarchetypeArtifactId=opendaylight-startup-archetype \</div><div class="line">  -<span class="ruby">DarchetypeRepository=<span class="symbol">http:</span>/<span class="regexp">/nexus.opendaylight.org/content</span><span class="regexp">/repositories/opendaylight</span>.release/ \</span></div><div class="line">  -<span class="ruby">DarchetypeCatalog=<span class="symbol">http:</span>/<span class="regexp">/nexus.opendaylight.org/content</span><span class="regexp">/repositories/opendaylight</span>.release/archetype-catalog.xml</span></div></pre></td></tr></table></figure>
<blockquote>
<p>这里需要注意，原文中使用的是<code>snapshot</code>，而使用<code>snapshot</code>会出现无法编译通过的问题。本文中使用<code>release</code>版本且目前的maven远端仓库<code>release</code>版本是<code>boron</code>。  </p>
</blockquote>
</li>
<li><p>使用如下值来初始化工程：</p>
 <figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'groupId'</span>: : org.opendaylight.hello</div><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'artifactId'</span>: : hello</div><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'version'</span>:  <span class="number">1.0</span>-SNAPSHOT: : <span class="number">1.0</span>.<span class="number">0</span>-SNAPSHOT</div><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'package'</span>:  org.opendaylight.hello: :</div><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'classPrefix'</span>: : $&#123;artifactId.substring(<span class="number">0</span>,<span class="number">1</span>).toUpperCase()&#125;$&#123;artifactId.substring(<span class="number">1</span>)&#125;</div><div class="line">Define <span class="keyword">value</span> <span class="keyword">for</span> property <span class="string">'copyright'</span>: : Copyright (c) <span class="number">2015</span> Yoyodyne, Inc.</div></pre></td></tr></table></figure>
<p> 其中，<code>version</code>,<code>package</code>,<code>classPrefix</code>都会默认填写，直接回车就行。</p>
</li>
<li><p>查看<code>hello</code>工程。</p>
 <figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> hello/</div><div class="line"><span class="keyword">ls</span> -1</div><div class="line">api</div><div class="line">artifacts</div><div class="line">features</div><div class="line">impl</div><div class="line">karaf</div><div class="line">pom.xml</div></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>构建<code>Hello</code>工程。</p>
 <figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">mvn </span>clean install</div></pre></td></tr></table></figure>
<blockquote>
<p>同样，可以利用之前提到的参数来提升编译构建速度。 </p>
</blockquote>
</li>
<li><p>启动ODL控制器。</p>
 <figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">cd</span> karaf/target/assembly/bin</div><div class="line"><span class="keyword">ls</span></div><div class="line">./karaf</div></pre></td></tr></table></figure>
</li>
<li><p>等待直至启动完毕出现以下命令行。可能需要等一段时间，这个时间和你电脑配置有关。</p>
 <figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">opendaylight-user<span class="meta">@root</span>&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>查看日志，确认<code>Hello</code>模块被正常加载。</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">lo</span><span class="variable">g:display</span> | <span class="keyword">grep</span> Hello</div></pre></td></tr></table></figure>
</li>
<li><p>关闭ODL控制器。</p>
 <figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">shutdown</span> -f</div></pre></td></tr></table></figure>
</li>
<li><p>返回到<code>Hello</code>目录：</p>
 <figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cd ../../../../</div></pre></td></tr></table></figure>
</li>
<li><p>可以通过查看<code>Hello</code>模块的实现来了解7中的日志从何而来，模块实现源文件路径如下：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">impl<span class="regexp">/src/m</span>ain<span class="regexp">/java/</span>org<span class="regexp">/opendaylight/</span>hello<span class="regexp">/impl/</span>HelloProvider.java</div></pre></td></tr></table></figure>
</li>
<li><p>可以使用<code>HelloProvider.onSessionInitiate</code>方法来添加自己的实现。 </p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onSessionInitiated</span><span class="params">(ProviderContext session)</span> </span>&#123;</div><div class="line">    LOG.info(<span class="string">"HelloProvider Session Initiated"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="添加一个简单的HelloWorld-RPC-API"><a href="#添加一个简单的HelloWorld-RPC-API" class="headerlink" title="添加一个简单的HelloWorld RPC API"></a>添加一个简单的<code>HelloWorld</code> RPC API</h3><hr>
<ol>
<li><p>修改YANG文件。</p>
 <figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vi api<span class="regexp">/src/m</span>ain<span class="regexp">/yang/</span>hello.yang</div></pre></td></tr></table></figure>
</li>
<li><p>修改为如下文件，通过修改该文件来定义<code>hello-world</code> RPC：</p>
 <figure class="highlight puppet"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"> module <span class="keyword">hello</span> &#123;</div><div class="line">    yang-version <span class="number">1</span>;</div><div class="line">    namespace <span class="string">"urn:opendaylight:params:xml:ns:yang:hello"</span>;</div><div class="line">    prefix <span class="string">"hello"</span>;</div><div class="line">    revision <span class="string">"2015-01-05"</span> &#123;</div><div class="line">        <span class="literal">description</span> <span class="string">"Initial revision of hello model"</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">rpc</span> <span class="keyword">hello</span>-<span class="keyword">world</span> &#123;</div><div class="line">        input &#123;</div><div class="line">            leaf <span class="literal">name</span> &#123;</div><div class="line">                <span class="built_in">type</span> string;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">output</span> &#123;</div><div class="line">            leaf greating &#123;</div><div class="line">                <span class="built_in">type</span> string;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>返回到<code>hello/api</code>目录并构建你的API:</p>
 <figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd ../../../</div><div class="line">mvn clean install</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="实现HelloWorld-RPC-API"><a href="#实现HelloWorld-RPC-API" class="headerlink" title="实现HelloWorld RPC API"></a>实现<code>HelloWorld</code> RPC API</h3><hr>
<ol>
<li><p>定义<code>HelloService</code>，该服务会被<code>HelloWorld</code>API调用。</p>
 <figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cd ..<span class="regexp">/impl/</span>src<span class="regexp">/main/</span>java<span class="regexp">/org/</span>opendaylight<span class="regexp">/hello/im</span>pl<span class="regexp">/</span></div></pre></td></tr></table></figure>
</li>
<li><p>创建<code>HelloWorldImpl.java</code>文件，添加如下代码：</p>
 <figure class="highlight lasso"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">* Copyright © 2016 Cisco Systems and others.  All rights reserved.</div><div class="line">*</div><div class="line">* This program and the accompanying materials are made available under the</div><div class="line">* terms of the Eclipse Public License v1.0 which accompanies this distribution,</div><div class="line">* and is available at http://www.eclipse.org/legal/epl-v10.html</div><div class="line">*/</div><div class="line">package org.opendaylight.hello.impl;</div><div class="line"><span class="keyword">import</span> java.util.concurrent.Future;</div><div class="line"><span class="keyword">import</span> org.opendaylight.yang.gen.v1.urn.opendaylight.<span class="keyword">params</span>.<span class="built_in">xml</span>.ns.yang.hello.rev150105.HelloService;</div><div class="line"><span class="keyword">import</span> org.opendaylight.yang.gen.v1.urn.opendaylight.<span class="keyword">params</span>.<span class="built_in">xml</span>.ns.yang.hello.rev150105.HelloWorldInput;</div><div class="line"><span class="keyword">import</span> org.opendaylight.yang.gen.v1.urn.opendaylight.<span class="keyword">params</span>.<span class="built_in">xml</span>.ns.yang.hello.rev150105.HelloWorldOutput;</div><div class="line"><span class="keyword">import</span> org.opendaylight.yang.gen.v1.urn.opendaylight.<span class="keyword">params</span>.<span class="built_in">xml</span>.ns.yang.hello.rev150105.HelloWorldOutputBuilder;</div><div class="line"><span class="keyword">import</span> org.opendaylight.yangtools.yang.common.RpcResult;</div><div class="line"><span class="keyword">import</span> org.opendaylight.yangtools.yang.common.RpcResultBuilder;</div><div class="line"><span class="keyword">public</span> class HelloWorldImpl implements HelloService &#123;</div><div class="line">    @Override</div><div class="line">    <span class="keyword">public</span> Future&lt;RpcResult&lt;HelloWorldOutput&gt;&gt; helloWorld(HelloWorldInput input) &#123;</div><div class="line">        HelloWorldOutputBuilder helloBuilder = <span class="literal">new</span> HelloWorldOutputBuilder();</div><div class="line">        helloBuilder.setGreating(<span class="string">"Hello "</span> + input.getName());</div><div class="line">        <span class="keyword">return</span> RpcResultBuilder.success(helloBuilder.build()).buildFuture();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>修改<code>HelloProvider.java</code>.注册在<code>hello.yang</code>中创建的RPC. 你可以自己添加自己想要的实现，或者直接按如下编写：</p>
 <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"> * Copyright © 2016 Cisco Systems and others.  All rights reserved.</div><div class="line"> *</div><div class="line"> * This program and the accompanying materials are made available under the</div><div class="line"> * terms of the Eclipse Public License v1.0 which accompanies this distribution,</div><div class="line"> * and is available at http://www.eclipse.org/legal/epl-v10.html</div><div class="line"> */</div><div class="line">package org.opendaylight.hello.impl;</div><div class="line"></div><div class="line"><span class="keyword">import</span> org.opendaylight.controller.md.sal.binding.api.DataBroker;</div><div class="line"><span class="keyword">import</span> org.opendaylight.controller.sal.binding.api.RpcProviderRegistry;</div><div class="line"><span class="keyword">import</span> org.opendaylight.controller.sal.binding.api.BindingAwareBroker.RpcRegistration;</div><div class="line"><span class="keyword">import</span> org.opendaylight.yang.gen.v1.urn.opendaylight.params.xml.ns.yang.hello.rev150105.HelloService;</div><div class="line"></div><div class="line"><span class="keyword">import</span> org.slf4j.Logger;</div><div class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloProvider</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="type">LOG</span> = <span class="type">LoggerFactory</span>.getLogger(<span class="type">HelloProvider</span>.<span class="keyword">class</span>);</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">DataBroker</span> dataBroker;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">RpcProviderRegistry</span> rpcProviderRegistry;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="type">RpcRegistration</span>&lt;<span class="type">HelloService</span>&gt; serviceRegistration;</div><div class="line">    <span class="keyword">public</span> <span class="type">HelloProvider</span>(<span class="keyword">final</span> <span class="type">DataBroker</span> dataBroker, <span class="type">RpcProviderRegistry</span> rpcProviderRegistry) &#123;</div><div class="line">        this.dataBroker = dataBroker;</div><div class="line">        this.rpcProviderRegistry = rpcProviderRegistry;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Method called when the blueprint container is created.</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> void <span class="keyword">init</span>() &#123;</div><div class="line"> serviceRegistration = rpcProviderRegistry.addRpcImplementation(<span class="type">HelloService</span>.<span class="keyword">class</span>, new <span class="type">HelloWorldImpl</span>());</div><div class="line">        <span class="type">LOG</span>.info(<span class="string">"HelloProvider Session Initiated"</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">    * Method called when the blueprint container is destroyed.</div><div class="line">    */</div><div class="line">    <span class="keyword">public</span> void close() &#123;</div><div class="line"> serviceRegistration.close();</div><div class="line">        <span class="type">LOG</span>.info(<span class="string">"HelloProvider Closed"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<pre><code>&gt; 这边需要注意：文件开头的版权声明不能去掉，否则无法通过Maven构建。此外，官网上的源文件有问题。本文档的源文件至少通过了本地编译。
</code></pre><ol>
<li><p>此外，需要在BluePrint中注册你的RPC API.修改如下：</p>
 <figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd hello<span class="meta-keyword">/impl/</span>src<span class="meta-keyword">/main/</span>resources<span class="meta-keyword">/org/</span>opendaylight/blueprint</div><div class="line">vi impl-blueprint.xml</div></pre></td></tr></table></figure>
<p> 修改为如下。</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span><span class="meta">?&gt;</span></span></div><div class="line"><span class="comment">&lt;!-- vi: set et smarttab sw=4 tabstop=4: --&gt;</span></div><div class="line"><span class="comment">&lt;!--</span></div><div class="line">Copyright © 2016 Cisco Systems and others. All rights reserved.</div><div class="line"></div><div class="line">This program and the accompanying materials are made available under the</div><div class="line">terms of the Eclipse Public License v1.0 which accompanies this distribution,</div><div class="line">and is available at http://www.eclipse.org/legal/epl-v10.html</div><div class="line">--&gt;</div><div class="line"><span class="tag">&lt;<span class="name">blueprint</span> <span class="attr">xmlns</span>=<span class="string">"http://www.osgi.org/xmlns/blueprint/v1.0.0"</span></span></div><div class="line"><span class="attr">xmlns:odl</span>=<span class="string">"http://opendaylight.org/xmlns/blueprint/v1.0.0"</span></div><div class="line"><span class="attr">odl:use-default-for-reference-types</span>=<span class="string">"true"</span>&gt;</div><div class="line"> </div><div class="line"><span class="tag">&lt;<span class="name">reference</span> <span class="attr">id</span>=<span class="string">"dataBroker"</span></span></div><div class="line">    <span class="attr">interface</span>=<span class="string">"org.opendaylight.controller.md.sal.binding.api.DataBroker"</span></div><div class="line">    <span class="attr">odl:type</span>=<span class="string">"default"</span> /&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">reference</span> <span class="attr">id</span>=<span class="string">"rpcRegistry"</span></span></div><div class="line">    <span class="attr">interface</span>=<span class="string">"org.opendaylight.controller.sal.binding.api.RpcProviderRegistry"</span> /&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"provider"</span></span></div><div class="line">    <span class="attr">class</span>=<span class="string">"org.opendaylight.hello.impl.HelloProvider"</span></div><div class="line">    <span class="attr">init-method</span>=<span class="string">"init"</span> <span class="attr">destroy-method</span>=<span class="string">"close"</span>&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">argument</span> <span class="attr">ref</span>=<span class="string">"dataBroker"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">argument</span> <span class="attr">ref</span>=<span class="string">"rpcRegistry"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">blueprint</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<pre><code>&gt; 这个文档中添加了`rpcRegistry`。需要注意&lt;?xml&gt;前不能有空格。
</code></pre><ol>
<li><p>然后回到hello/impl目录下编译。</p>
 <figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">mvn </span>clean install</div></pre></td></tr></table></figure>
</li>
<li><p>回到hello目录下编译。</p>
 <figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">mvn </span>clean install</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="通过REST来测试hello-world-RPC"><a href="#通过REST来测试hello-world-RPC" class="headerlink" title="通过REST来测试hello-world RPC"></a>通过REST来测试<code>hello-world</code> RPC</h3><hr>
<p>有很多方式可以测试RPC, 比如以下两种。</p>
<ol>
<li><p>通过HTTP使用ODL控制器自带的API Explorer</p>
</li>
<li><p>使用浏览器的REST 客户端</p>
</li>
</ol>
<h4 id="通过HTTP使用ODL控制器自带的API-Explorer"><a href="#通过HTTP使用ODL控制器自带的API-Explorer" class="headerlink" title="通过HTTP使用ODL控制器自带的API Explorer"></a>通过HTTP使用ODL控制器自带的API Explorer</h4><hr>
<ol>
<li><p>使用浏览器进入 <a href="http://localhost:8181/apidoc/explorer/index.html" rel="external nofollow noopener noreferrer" target="_blank">apidoc UI</a><code>&lt;http://localhost:8181/apidoc/explorer/index.html&gt;</code> 。</p>
<blockquote>
<p>TIP: <strong>localhost</strong>是你ODL控制器的IP地址或者Hostname。</p>
</blockquote>
</li>
<li><p>选择</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">hello(<span class="number">2015</span><span class="number">-01</span><span class="number">-05</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>选择</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">POST <span class="regexp">/operations/</span><span class="string">hello:</span>hello-world</div></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>在框内填写如下值</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&#123;<span class="attr">"hello:input"</span>: &#123; <span class="attr">"name"</span>:<span class="string">"Your Name"</span>&#125;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>点击按钮.</p>
</li>
<li><p>输入 username 和 password, 默认是<br><code>admin/admin</code>.</p>
</li>
<li><p>返回的Response body应该为：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&#123;</div><div class="line">  <span class="attr">"output"</span>: &#123;</div><div class="line">    <span class="attr">"greating"</span>: <span class="string">"Hello Your Name"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="使用浏览器的REST-客户端"><a href="#使用浏览器的REST-客户端" class="headerlink" title="使用浏览器的REST 客户端"></a>使用浏览器的REST 客户端</h3><hr>
<p>可以使用火狐浏览器的 <a href="https://github.com/chao/RESTClient" rel="external nofollow noopener noreferrer" target="_blank"><em>RESTClient</em></a>或者Chrome的<code>Restlet Client</code>。<br>    <figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">POST:</span> <span class="symbol">http:</span>/<span class="regexp">/192.168.1.43:8181/restconf</span><span class="regexp">/operations/hello</span><span class="symbol">:hello-world</span></div></pre></td></tr></table></figure></p>
<p>Header:  </p>
<pre><code>```
application/json
```   
</code></pre><p>Body:  </p>
<pre><code>{&quot;input&quot;: {
    &quot;name&quot;: &quot;Andrew&quot;
  }
}
</code></pre><h2 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><p>If you get a response code 501 while attempting to POST<br>/operations/hello:hello-world, check the file: HelloProvider.java and<br>make sure the helloService member is being set. By not invoking<br>“session.addRpcImplementation()” the REST API will be unable to map<br>/operations/hello:hello-world url to HelloWorldImpl.</p>
<blockquote>
<p>这个应该碰不到了。所以就不翻译了。</p>
</blockquote>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">SDN</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/SDN_opendaylight_dev_bundle.html">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-SDN_Link" class="article article-type-post  article-index" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/SDN_Link.html">SDN收藏夹</a>
    </h1>
  

        
        <a href="/SDN_Link.html" class="archive-article-date">
  	<time datetime="2017-01-08T05:24:31.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2017-01-08</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="SDN收藏夹"><a href="#SDN收藏夹" class="headerlink" title="SDN收藏夹"></a>SDN收藏夹</h2><hr>
<h3 id="OpenDayLight操作"><a href="#OpenDayLight操作" class="headerlink" title="OpenDayLight操作"></a>OpenDayLight操作</h3><p><a href="http://www.sdnlab.com/1749.html" rel="external nofollow noopener noreferrer" target="_blank">ODL与mininet</a><br><a href="http://docs.opendaylight.org/en/stable-boron/getting-started-guide/common-features/clustering.html" rel="external nofollow noopener noreferrer" target="_blank">ODL控制器集群</a><br><a href="https://github.com/yeasy/tech_writing/blob/master/SDN/OpenDaylight%20Controller%20%E7%AE%80%E6%98%93%E5%85%A5%E9%97%A8.pdf" rel="external nofollow noopener noreferrer" target="_blank">简单入门(13年12月)</a>  </p>
<hr>
<h3 id="OpenDayLight编程开发"><a href="#OpenDayLight编程开发" class="headerlink" title="OpenDayLight编程开发"></a>OpenDayLight编程开发</h3><p><a href="http://blog.csdn.net/heriam/article/details/50411303" rel="external nofollow noopener noreferrer" target="_blank">Linux编译环境搭建</a><br><a href="http://www.sdnlab.com/17124.html" rel="external nofollow noopener noreferrer" target="_blank">windows下环境搭建</a>(<a href="http://www.sdnlab.com/author/3836/" rel="external nofollow noopener noreferrer" target="_blank">该文作者系列文章</a>)<br><a href="https://wiki.opendaylight.org/view/OpenDaylight_Controller:Building_from_CLI" rel="external nofollow noopener noreferrer" target="_blank">官方maven编译安装教程</a><strong>注意maven编译的时候可能需要使用代理来访问远端maven仓库</strong><br><a href="http://www.sdnlab.com/11405.html" rel="external nofollow noopener noreferrer" target="_blank">控制器上bundle的二次开发</a><br><a href="http://blog.csdn.net/pantingting_zju/article/details/46835081" rel="external nofollow noopener noreferrer" target="_blank">开发一个bundle</a>(已经过期无法按照原文步骤演示了，但是可以看看。<a href="http://www.frank-durr.de/?p=84" rel="external nofollow noopener noreferrer" target="_blank">原文</a>)<br><a href="https://wiki.opendaylight.org/view/OpenDaylight_Controller:Sample_Applications/SampleStatisticsApplication" rel="external nofollow noopener noreferrer" target="_blank">利用北向接口NBI来写一个统计程序</a><br><a href="http://docs.opendaylight.org/en/stable-boron/developer-guide/developing-apps-on-the-opendaylight-controller.html" rel="external nofollow noopener noreferrer" target="_blank">官方开发控制器app文档</a><br><a href="http://www.sdnlab.com/18270.html" rel="external nofollow noopener noreferrer" target="_blank">YANG模型</a>  </p>
<hr>
<h3 id="OpenDayLight-源码与API"><a href="#OpenDayLight-源码与API" class="headerlink" title="OpenDayLight 源码与API"></a>OpenDayLight 源码与API</h3><p><a href="http://blog.csdn.net/sdnlab/article/details/44651161" rel="external nofollow noopener noreferrer" target="_blank">ODL 氢版本数据通讯版本源码解读</a><br><a href="https://wiki.opendaylight.org/view/Defense4All:Tutorial" rel="external nofollow noopener noreferrer" target="_blank">defenseAll (已被odl官方存档弃用)</a><br><a href="https://wiki.opendaylight.org/view/OpenDaylight_Controller:MD-SAL:Component_Map" rel="external nofollow noopener noreferrer" target="_blank">控制器mdsal组件列表</a><br><a href="https://nexus.opendaylight.org/content/sites/site/org.opendaylight.mdsal/beryllium/apidocs/" rel="external nofollow noopener noreferrer" target="_blank">ODL beryllium版本API，已过期</a><br><a href="https://nexus.opendaylight.org/content/sites/site/org.opendaylight.mdsal/boron/apidocs/" rel="external nofollow noopener noreferrer" target="_blank">ODL boron版本API，目前最新(1/6/2017)</a><br><a href="https://git.opendaylight.org/gerrit/#/admin/projects/" rel="external nofollow noopener noreferrer" target="_blank">官方Git</a>  </p>
<hr>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p><a href="http://www.muzixing.com/pages/2015/08/30/sdnkong-zhi-ping-mian-fa-zhan-li-shi-ji-qu-shi.html" rel="external nofollow noopener noreferrer" target="_blank">sdn架构</a><br><a href="http://blog.csdn.net/yuzhihui_no1/article/details/39161515" rel="external nofollow noopener noreferrer" target="_blank">ovs模块划分</a><br><a href="http://blog.csdn.net/yuzhihui_no1/article/details/41546481" rel="external nofollow noopener noreferrer" target="_blank">ovs源码分析系列</a><br><a href="https://wiki.opendaylight.org/view/Network_Intent_Composition:Use_Cases#Suspicious_DDoS_activity_monitoring" rel="external nofollow noopener noreferrer" target="_blank">ODL用户邮件(感觉有用，但是不知道怎么用)</a><br><a href="https://wiki.opendaylight.org/view/OpenDaylight_Controller:Load_Balancer_Service" rel="external nofollow noopener noreferrer" target="_blank">ODL 负载均衡演示(已过期)</a><br><a href="http://docs.opendaylight.org/en/stable-boron/getting-started-guide/security_considerations.html" rel="external nofollow noopener noreferrer" target="_blank">ODL安全措施，没啥用</a></p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">SDN</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/SDN_Link.html">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-SDN_conclusion" class="article article-type-post  article-index" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/SDN_conclusion.html">SDN综述</a>
    </h1>
  

        
        <a href="/SDN_conclusion.html" class="archive-article-date">
  	<time datetime="2016-12-18T05:24:31.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2016-12-18</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="论文"><a href="#论文" class="headerlink" title="论文"></a>论文</h2><p><a href="论文：软件定义网络(SDN)研究进展.Tutorial)">^1</a></p>
<h2 id="思想"><a href="#思想" class="headerlink" title="思想"></a>思想</h2><p>利用分层思想，将数据与控制分离。<br>控制层有逻辑中心化和可编程控制器。数据层有dump 交换机，只负责数据的转发，课快速处理匹配数据包，适应流量日益增长的需求。两层之间采用开放统一的接口（比如openflow）交互。控制器通过接口下发规则，交换机按照规则执行工作。</p>
<h2 id="体系结构"><a href="#体系结构" class="headerlink" title="体系结构"></a>体系结构</h2><h3 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h3><p><img src="https://www.opennetworking.org/images/stories/sdn-resources/meet-sdn/sdn-3layers.gif" alt="SDN体系结构"><a href="论文：软件定义网络(SDN)研究进展.Tutorial)">^1</a><br>SDN由北向南分为三个接口：数据平面、控制平面、和应用平面。数据平面与控制平面之间利用用SDN控制数据平面接口(<code>control-data-plane  interface</code>，简称CDPI)进行通信。CDPI有统一的标准，目前是 OpenFlow协议。控制平面与应用平面之间采用SDN北向接口(northbound interface，简称NBI)。NBI可以依照用于实际需求定制。</p>
<p>数据平面由交换机等网络元素链接。可以将至视为传统的数据链路，负责网络之间的数据交互，并接受上层的控制。控制平面是中间件，通过CDPI驱动来监控管理数据平面中的网络元素的行为，并通过北向接口来接收应用层的命令。应用平面包含各类基于SDN的网络应用，用户无需关心底层实现，就可以通过简单编程实现应用的快速部署。网络抽象特性允许用户可以根据需求选择不同的网络操作系<br>统，而并不影响物理设备的正常运行。</p>
<h3 id="不同方向"><a href="#不同方向" class="headerlink" title="不同方向"></a>不同方向</h3><p>NFV(Network Function Virtulizaiton),是指将传统的网络功能虚拟化，使之独立于硬件。在相同的硬件上，可以运行不同的网络功能。从而减少专属设备的硬件成本。NVF用了资源虚拟化的方式，在硬件设备中建立一个网络虚拟层，负责将硬件<br>资源虚拟化，形成虚拟计算资源、虚拟存储资源和虚拟网络资源等，运营商通过软件来管理这些虚拟资源．由于<br>采用的是通用硬件设备，NFV降低了设备成本，减少了能耗，缩短了新网络服务的部署周期，从而适应网络运营<br>商的发展需求．在接口设计方面，NFV既可以基于非OpenFlow协议，又能与OpenFlow协同工作，同时还支持<br>ForCES等多种传统接口标准化协议，以便适应网络运营商对设备的不同需求，并与ONF的SDN保持相对独<br>立的发展．</p>
<p>OpenDaylight是一套以社区为主导的开源框架,旨在推动创新实施以及SDN透明化。考虑到兼容性问题，OpenDaylight继承了SDN架构形式，同时又结合了NFV的特<br>点．架构共分为3个层次，分别是网络应用与业务流程(即应用层)、控制平台(即控制层)和物理与虚拟网络设备(即数据层)．OpenDaylight的控制平台直接由自带的Java虚拟机实现．针对不同的网络任务，控制器自身携带了一系列可插入模块，并兼容第三方模块以增强SDN的功能．与ONF的SDN架构最大的不同在于：OpenDaylight控制器的南向接口除了支持OpenFlow协议之外，还支持NETCONF等配置协议和BGPt24等路由协议，并支持生产厂商的专有协议(如思科的OnePK协议)．为了能够处理不同的标准协议，OpenDaylight增加了服务抽象层SAL，它负责将不同的底层协议标准转换成OpenDaylight控制层所理解的请求服务，保持了底层协议的透明性，并提高了整体架构的可扩展性．</p>
<h3 id="开放式接口与协议设计"><a href="#开放式接口与协议设计" class="headerlink" title="开放式接口与协议设计"></a>开放式接口与协议设计</h3><p>SDN接口中，以控制器为中心，南向与数据层通信，北向与应用层通信。并支持多控制器，在东西向进行多控制器通信。<br>作为数据与控制分离的核心，南向接口是目前相对研究比较多的点。比如ONF的CDPI,采用openflow。Openflow基于流的概念来匹配规则，交换机通过维护流表（Flow table）来支持openflow，按流表进行数据转发。流表的建立，维护及下发由控制器进行。</p>
<p>对于北向的研究，有ONF的NBI，OpenDaylight的REST等。这一方面的研究在于如何实现统一的北向接口标准。 东西向接口为负载均衡和性能提升提供保障。</p>
<h2 id="数据层关键技术"><a href="#数据层关键技术" class="headerlink" title="数据层关键技术"></a>数据层关键技术</h2><p>在SDN中，数据层与控制层分离，控制策略部分被交给控制器负责，数据层上的研究主要集中在交换机设计和转发规则。</p>
<h3 id="交换机设计问题"><a href="#交换机设计问题" class="headerlink" title="交换机设计问题"></a>交换机设计问题</h3><p>SDN交换机位于数据层面。用来负责数据流转发。可以使用硬件和软件两种方式进行转发。硬件转发速度快，成本低，功耗小，但是灵活性不够。对此，Bosshart等人[^32]提出了针对数据平面转发的RMT模型。允许在流水线阶段支持任意宽度和深度的流表。  </p>
<ol>
<li>允许随意替换或增加域定义；</li>
<li>允许指定流表的数量、拓扑、宽度和深度，仅仅受限于芯片的整体资源(如芯片内存大小等)；</li>
<li>允许创建新动作；</li>
<li>可以随意将数据包放到不同的队列中，并指定发送端口。  </li>
</ol>
<p>此外，FlowAdapter是另一种利用硬件灵活处理的技术。FlowAdapter采用三层结构。最上层是可以通过更新来支持任何新协议的软件数据平面，底层是相对固定但转发效率高的硬件数据平面，位于中部的FlowAdapter层负责软件数据平面和硬件数据平面之间的通信．当控制器下发规则时，软件数据平面将存储这些规则，形成M个阶段的流表．由于这些规则相对灵活，不能全部<br>由交换机直接转化成相应转发动作，而硬件数据平面可以实现规则的高速匹配转发．因此可利用中间层FlowAdapter将两个数据平面中的规则进行无缝转换，即，将相对灵活的M阶段的流表转换成能够被硬件所识别的Ⅳ阶段的流表．为了达到转换目的，FlowAdapter首先检查软件数据平面的全部规则，然后根据完整的规则将M阶段的流表转换成l阶段流表，最后再将1阶段流表转换成Ⅳ阶段流表发送给硬件数据平面．．另外，FlowAdapter相对控制器完全透明，对FlowAdapter交换机的更新不会影响控制器的正常运行．</p>
<p>与硬件设计交换机的观点不同，软件处理速度虽然低于硬件。但是软件方式可以最大限度提升规则灵活性。同时避免硬件受制于自身资源限制导致的流表大小受限，无法有效处理突发流的问题。同时软件也可以采用专用的NP(Network Processor)来替换CPU.</p>
<h3 id="转发规则的研究"><a href="#转发规则的研究" class="headerlink" title="转发规则的研究"></a>转发规则的研究</h3><p>如果网络节点失效，或者网络流量需要负载转移等情况，都会引发转发规则的变换。SDN采用高抽象层次的管理方式统一更新规则，防止出现规则更新不一致和规则延迟的现象。<br>一般采用两阶段提交方式更新规则[^40]：    第一阶段：规则需要更新，控制器询问每一个交换机是否处理完对应旧规则的流。并对处理完成的所有交换机进行规则更新。<br>第二阶段：当所有交换机都更新完毕后，才算完成更新，否则取消该更新操作。<br>这种方法需要等待旧规则的数据包处理完毕后才能处理新规则的数据包，会导致规则空间被占用的问题。这个时候可以采用增量式一致更新：，该算法将规则更新分成多轮进行每一轮都采用二阶段提交方式更新一个子集，这样可以节省规则空间，达到更新时间与规则空间的折中。</p>
<h2 id="控制层关键技术"><a href="#控制层关键技术" class="headerlink" title="控制层关键技术"></a>控制层关键技术</h2><p>控制器是控制层核心组件。通过控制器，用户可以逻辑上集中控制交换机，实现数据快速转发，安全便捷管理网络，提神网络整体性能。</p>
<h3 id="控制器设计问题"><a href="#控制器设计问题" class="headerlink" title="控制器设计问题"></a>控制器设计问题</h3><p>控制器基本功能是为科研人员提供可用的编程平台，最早且广泛使用的控制器平台是NOX。提供了一系列基本接口，用户通过NOX对全局网络信息进行获取，控制与管理。NOX的问题在于，随着SDN网络规模的扩展,单一结构集中控制的控制器处理能力受限，扩展困难，只能应用于小型企业网络或者科研人员进行仿真。网络中有两种方式扩展，第一是提升控制器性能，比如NOX-MT，第二种是采用多控制器方式提升整体控制器的能力。<br>NOX-MT是具有多线程处理能力的NOX控制器，NOX-MT不改变NOX控制器的基本结构，而是利用传统并行技术提升性能。<br>对于大规模网络，需要采用多控制器进行处理。分布式控制器有两种方式进行扩展，扁平控制方式和层次控制方式。．对于扁平控制方式（比如ONIX,HyperFlow），所有控制器被放置在不相交的区域里，分别管理各自的网络．各控制器间的地位相等，<br>并通过东西向接口进行通信．对于层次控制方式(Kandoo)，控制器之间具有垂直管理的功能．也就是说，局部控制器负责<br>各自的网络，全局控制器负责局部控制器，控制器之间的交互可通过全局控制器来完成．</p>
<p>SDN网络操作系统应该具有实时运行开发应用的能力，力求开发与执行的平衡。NOX采用Python或c++. 二者在开发效率和执行效率上各有偏重。科研人员致力于开发通用平台，Beacon就是一个基于Java的通用平台。它向用户提供了一系列相关的库与接口用于开发，并提供运行时模块化的功能，使其在保证性能的情况下具有了实时运行的能力，实现了开发与执行两者之间的平衡。</p>
<h3 id="接口语言"><a href="#接口语言" class="headerlink" title="接口语言"></a>接口语言</h3><p>传统的低级配置接口，比如用c++编写的接口，抽象程度低，不能大幅减少使用成本， 就有团队致力于开发网络配置语言,旨在搭建具有优化性能的通用北向接口。比如Nettle,McNettle(Nettle多核版)，采用了函数响应式编程（FPR）方式。Maple则对接口语言进一步抽象，允许用户使用自定义抽象策略。为了能够高效地将抽象策略分解成一系<br>列规则，并下发到相应的分布式交换机上，Maple不但采用了高效的多核调度器，最关键的是，它采用了跟踪运行时优化器(tracing runtime optimizer)来优化性能．该优化器一方面通过记录可重用的策略，将负载尽可能地转移<br>到交换机来处理．另一方面，通过动态跟踪抽象策略与数据内容及环境的依赖性，使流表始终处于最新状态，从而确保抽象策略转成可用规则的效率。  此外还介绍了Frenetic等。</p>
<h3 id="控制层特性研究"><a href="#控制层特性研究" class="headerlink" title="控制层特性研究"></a>控制层特性研究</h3><p>控制层存在一致性，可用性和容错性等特性，但是三种特性无法同时满足，达到三者之间的平衡和整体的最优化，是这个方向上的重点。</p>
<h4 id="一致性"><a href="#一致性" class="headerlink" title="一致性"></a>一致性</h4><p>集中控制是SDN区别于其他网络架构的核心优势之一，通过集中控制，用户可以获取全局网络视图，并根据全网信息对网络进行统一设计与部署，理论上保证了网络配置的一致性问题．然而，分布式控制器仍然具有潜在的不一致性问题．由于不同控制器的设计对网络一致性要求有所不同，严格保证分布式状态全局统一的控制器，将无法保证网络性能；反之，如果控制器能够快速响应请求，下发策略，则无法保证全局状态一致性．性能无明<br>显影响的情况下，保证状态一致性成为了SDN设计中的关键问题。<br>并发策略同样会导致一致性问题。可以由控制层将策略形成规则，并按两阶段提交方式解决．为了避免数据层过多的参与，控制层可直接通过并发策略组合的方式来解决，并可利用细粒度锁(fine—grained locking)确保组合策略无冲突发生．HFT采用了层次策略方案，它将并发策略分解，组织成树的形式，树的每个节点都可独立形成转发规则．HFT首先对每个节点进行自定义冲突处理操作，这样，整个冲突处理过程就转化成利用自定义冲突处理规则逆向搜索树的过程，从而解决了并发策略一致性问题．</p>
<h4 id="可用性"><a href="#可用性" class="headerlink" title="可用性"></a>可用性</h4><p>规则备份可以提升网络的可用性（RuleBrieks）。<br>控制器作为SDN的核心处理节点，需要处理来自交换机的大量请求，而过重的负载会影响SDN的可用性．利用分布式控制器可以平衡负载，提升SDN的整体性能．（ndoo，ElastiCon）.减少交换机的请求次数，可以提升控制层可用性。（DIFANE,DevoFlow）</p>
<h4 id="容错性"><a href="#容错性" class="headerlink" title="容错性"></a>容错性</h4><p>与传统的互联网类似，SDN同样面临着网络节点或链路失效的问题．然而，SDN控制器可以通过全网信息快速恢复失效节点，具有较强的容错能力．网络节点恢复收敛过程如图7所示：</p>
<ol>
<li>当某台交换机失效时，其他交换机察觉出变化；</li>
<li>交换机将变化情况通知控制器；</li>
<li>控制器根据所掌握的信息，计算出需要恢复的规则；</li>
<li>将更新发送给数据平面中受到影响的网络元素；</li>
<li>数据平面中受影响的元素分别更新流表信息．</li>
</ol>
<p>从链路恢复过程可以看出：在SDN架构中，失效信息一般不是通过洪泛方式通知全网，而是直接发送给控<br>制层，并由控制器来做恢复决策，因而不易出现路由振荡的现象．如果是交换机和控制器之间的链接失效，导致<br>无法通信，则收敛过程相对困难．可以采用传统网络的IGP(如OSPF协议)通信，并通过洪泛方式恢复，也可以采<br>用故障转移(failover)方式，同样能够缓解链路失效收敛时间问题．通过在交换机上安装用于验证拓扑连接性<br>的静态转发规则，可以更好地实现网络故障的快速收敛．<br>控制层也提供了一种高级容错语言FatTire.</p>
<h2 id="SDN应用研究"><a href="#SDN应用研究" class="headerlink" title="SDN应用研究"></a>SDN应用研究</h2><h3 id="企业与校园网"><a href="#企业与校园网" class="headerlink" title="企业与校园网"></a>企业与校园网</h3><p>早期SDN研究主要场景。在第二代中国教育和科研计算机网中，利用4over6技术和SDN网络虚拟化思想进行v4到v6的过渡。</p>
<h3 id="数据中心与云"><a href="#数据中心与云" class="headerlink" title="数据中心与云"></a>数据中心与云</h3><p>数据中心需求带宽高，设备繁多，高度集中，在此部署SDN也有严峻的考验。早期的实例是基于NOX的SDN网络。在合理运用带宽方面的实践有OpenFlow,DevoFlow,zUpdate等。在节能方面，利用SDN掌控全局，实时关闭不必要的设备以进行节能，能够节省约一半的能耗。同时也能进行负载均衡，避免资源浪费。</p>
<h3 id="广域网"><a href="#广域网" class="headerlink" title="广域网"></a>广域网</h3><p>Google B4系统，微软SWAN系统，都基于SDN架构，大幅提升了链路利用率。其中SWAN系统主要基于传统设备，利于普及和升级。</p>
<h3 id="无线网络"><a href="#无线网络" class="headerlink" title="无线网络"></a>无线网络</h3><p>OpenRoads, Odin,OpenRadio,SoftRAN等。</p>
<h2 id="SDN未来方向"><a href="#SDN未来方向" class="headerlink" title="SDN未来方向"></a>SDN未来方向</h2><h3 id="SDN可扩展性研究"><a href="#SDN可扩展性研究" class="headerlink" title="SDN可扩展性研究"></a>SDN可扩展性研究</h3><h3 id="SDN规模部署和跨域通信"><a href="#SDN规模部署和跨域通信" class="headerlink" title="SDN规模部署和跨域通信"></a>SDN规模部署和跨域通信</h3><h3 id="传统网络与SDN共存问题研究"><a href="#传统网络与SDN共存问题研究" class="headerlink" title="传统网络与SDN共存问题研究"></a>传统网络与SDN共存问题研究</h3><h3 id="SDN在数据中心的应用研究"><a href="#SDN在数据中心的应用研究" class="headerlink" title="SDN在数据中心的应用研究"></a>SDN在数据中心的应用研究</h3><h3 id="借鉴SDN思想融合IPv6过渡机制"><a href="#借鉴SDN思想融合IPv6过渡机制" class="headerlink" title="借鉴SDN思想融合IPv6过渡机制"></a>借鉴SDN思想融合IPv6过渡机制</h3><h3 id="SDN与其他新型网络架构融合"><a href="#SDN与其他新型网络架构融合" class="headerlink" title="SDN与其他新型网络架构融合"></a>SDN与其他新型网络架构融合</h3><h3 id="SDN网络安全"><a href="#SDN网络安全" class="headerlink" title="SDN网络安全"></a>SDN网络安全</h3><p><a href="https://wiki.opendaylight.org/view/OpenDaylight_Controller:MD-SAL:Component_Map" rel="external nofollow noopener noreferrer" target="_blank">控制器mdsal组件列表</a><br><a href="https://nexus.opendaylight.org/content/sites/site/org.opendaylight.mdsal/beryllium/apidocs/" rel="external nofollow noopener noreferrer" target="_blank">ODL beryllium版本API，已过期</a><br><a href="https://nexus.opendaylight.org/content/sites/site/org.opendaylight.mdsal/boron/apidocs/" rel="external nofollow noopener noreferrer" target="_blank">ODL boron版本API，目前最新(1/6/2017)</a><br><a href="https://git.opendaylight.org/gerrit/#/admin/projects/" rel="external nofollow noopener noreferrer" target="_blank">官方Git</a>  </p>
<hr>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p><a href="http://www.muzixing.com/pages/2015/08/30/sdnkong-zhi-ping-mian-fa-zhan-li-shi-ji-qu-shi.html" rel="external nofollow noopener noreferrer" target="_blank">sdn架构</a><br><a href="http://blog.csdn.net/yuzhihui_no1/article/details/39161515" rel="external nofollow noopener noreferrer" target="_blank">ovs模块划分</a><br><a href="http://blog.csdn.net/yuzhihui_no1/article/details/41546481" rel="external nofollow noopener noreferrer" target="_blank">ovs源码分析系列</a><br><a href="https://wiki.opendaylight.org/view/Network_Intent_Composition:Use_Cases#Suspicious_DDoS_activity_monitoring" rel="external nofollow noopener noreferrer" target="_blank">ODL用户邮件(感觉有用，但是不知道怎么用)</a><br><a href="https://wiki.opendaylight.org/view/OpenDaylight_Controller:Load_Balancer_Service" rel="external nofollow noopener noreferrer" target="_blank">ODL 负载均衡演示(已过期)</a><br><a href="http://docs.opendaylight.org/en/stable-boron/getting-started-guide/security_considerations.html" rel="external nofollow noopener noreferrer" target="_blank">ODL安全措施，没啥用</a></p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">SDN</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/SDN_conclusion.html">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-Smarking Algorithm Contest 3" class="article article-type-post  article-index" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Smarking Algorithm Contest 3.html">Smarking Algorithm Contest 3</a>
    </h1>
  

        
        <a href="/Smarking Algorithm Contest 3.html" class="archive-article-date">
  	<time datetime="2016-11-06T06:37:31.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2016-11-06</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-453-Minimum-Moves-to-Equal-Array-Elements"><a href="#1-453-Minimum-Moves-to-Equal-Array-Elements" class="headerlink" title="1.  453. Minimum Moves to Equal Array Elements"></a>1.  453. Minimum Moves to Equal Array Elements</h2><p>Given a <strong>non-empty</strong> integer array of size n, find the minimum number of moves required to make all array elements equal, where a move is incrementing n - 1 elements by 1.<br>Ex:<br><figure class="highlight inform7"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line"><span class="comment">[1,2,3]</span></div><div class="line"></div><div class="line">Output:</div><div class="line">3</div><div class="line"></div><div class="line">Explanation:</div><div class="line">Only three moves <span class="keyword">are</span> needed (remember each move increments two elements):</div><div class="line"></div><div class="line"><span class="comment">[1,2,3]</span>  =&gt;  <span class="comment">[2,3,3]</span>  =&gt;  <span class="comment">[3,4,3]</span>  =&gt;  <span class="comment">[4,4,4]</span></div></pre></td></tr></table></figure></p>
<p>给一个长度为n的非空数组，将这个数组中的其中n-1个元素都+1，称为一次操作。求出将这个数组所有元素都变为相同大小的操作的次数。<br>解法：<br><figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">func minMoves(nums []<span class="built_in">int</span>) <span class="built_in">int</span> &#123;</div><div class="line">	<span class="keyword">if</span> len(nums) &lt;= <span class="number">1</span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span></div><div class="line">	&#125;</div><div class="line">	<span class="built_in">sum</span>,<span class="built_in">min</span>,<span class="built_in">max</span> := nums[<span class="number">0</span>],nums[<span class="number">0</span>],nums[<span class="number">0</span>]</div><div class="line">	for i:=<span class="number">1</span>;i&lt;len(nums);i++&#123;</div><div class="line">		<span class="built_in">sum</span> += nums[i]</div><div class="line">		<span class="keyword">if</span> <span class="built_in">min</span> &gt; nums[i]&#123;</div><div class="line">			<span class="built_in">min</span> = nums[i]</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> <span class="built_in">max</span> &lt; nums[i]&#123;</div><div class="line">			<span class="built_in">max</span> = nums[i]</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="built_in">sum</span> - len(nums)*<span class="built_in">min</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="2-447-Number-of-Boomerangs"><a href="#2-447-Number-of-Boomerangs" class="headerlink" title="2. 447. Number of Boomerangs"></a>2. 447. Number of Boomerangs</h2><p>Given n points in the plane that are all pairwise distinct, a “boomerang” is a tuple of points (i, j, k) such that the distance between i and j equals the distance between i and k (the order of the tuple matters).</p>
<p>Find the number of boomerangs. You may assume that n will be at most 500 and coordinates of points are all in the range [-10000, 10000] (inclusive).<br>Ex:<br><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line"><span class="string">[[0,0],[1,0],[2,0]]</span></div><div class="line"></div><div class="line">Output:</div><div class="line"><span class="number">2</span></div><div class="line"></div><div class="line">Explanation:</div><div class="line">The two boomerangs are <span class="string">[[1,0],[0,0],[2,0]]</span> <span class="keyword">and</span> <span class="string">[[1,0],[2,0],[0,0]]</span></div></pre></td></tr></table></figure></p>
<p>给定平面内的坐标。求出这些坐标中，一个点到另外两个点距离相同的组合。<br>这题只要求出每个坐标到其他坐标的距离。然后再遍历就行了。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">pow</span><span class="params">(t <span class="keyword">int</span>)</span> <span class="title">int</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> t*t</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">numberOfBoomerangs</span><span class="params">(points [][]<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(points) &lt;<span class="number">3</span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span></div><div class="line">	&#125;</div><div class="line">	dis := <span class="built_in">make</span>([][]<span class="keyword">int</span>,<span class="built_in">len</span>(points))</div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(points);i++&#123;</div><div class="line">		dis[i] = <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="built_in">len</span>(points))</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(points);i++&#123;</div><div class="line">		<span class="keyword">for</span> j:=i+<span class="number">1</span>;j&lt;<span class="built_in">len</span>(points);j++&#123;</div><div class="line">			t := pow(points[i][<span class="number">0</span>] - points[j][<span class="number">0</span>])+pow(points[i][<span class="number">1</span>] - points[j][<span class="number">1</span>])</div><div class="line">			dis[i][j],dis[j][i] = t,t</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	count := <span class="number">0</span></div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(points);i++&#123;</div><div class="line">		<span class="keyword">for</span> j:=<span class="number">0</span>;j&lt;<span class="built_in">len</span>(points);j++&#123;</div><div class="line">			<span class="keyword">if</span> j == i&#123;</div><div class="line">				<span class="keyword">continue</span></div><div class="line">			&#125;</div><div class="line">			<span class="keyword">for</span> k := j+<span class="number">1</span>;k&lt;<span class="built_in">len</span>(points);k++&#123;</div><div class="line">				<span class="keyword">if</span> dis[i][j] == dis[i][k]&#123;</div><div class="line">					count +=<span class="number">2</span></div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> count</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3-452-Minimum-Number-of-Arrows-to-Burst-Balloons"><a href="#3-452-Minimum-Number-of-Arrows-to-Burst-Balloons" class="headerlink" title="3. 452. Minimum Number of Arrows to Burst Balloons"></a>3. 452. Minimum Number of Arrows to Burst Balloons</h2><p>There are a number of spherical balloons spread in two-dimensional space. For each balloon, provided input is the start and end coordinates of the horizontal diameter. Since it’s horizontal, y-coordinates don’t matter and hence the x-coordinates of start and end of the diameter suffice. Start is always smaller than end. There will be at most 104 balloons.</p>
<p>An arrow can be shot up exactly vertically from different points along the x-axis. A balloon with xstart and xend bursts by an arrow shot at x if xstart ≤ x ≤ xend. There is no limit to the number of arrows that can be shot. An arrow once shot keeps travelling up infinitely. The problem is to find the minimum number of arrows that must be shot to burst all balloons.<br>Ex:<br><figure class="highlight inform7"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line"><span class="comment">[<span class="comment">[10,16]</span>, <span class="comment">[2,8]</span>, <span class="comment">[1,6]</span>, <span class="comment">[7,12]</span>]</span></div><div class="line"></div><div class="line">Output:</div><div class="line">2</div><div class="line"></div><div class="line">Explanation:</div><div class="line">One way <span class="keyword">is</span> to shoot one arrow for example at x = 6 (bursting the balloons <span class="comment">[2,8]</span> and <span class="comment">[1,6]</span>) and another arrow at x = 11 (bursting the other two balloons).</div></pre></td></tr></table></figure></p>
<p>这题把一堆乱七八糟的背景剥开后，题目实际上是这样的：<br>给定一组区间，然后要你给出长度最小的一组数，这组数中所有的点都在区间内而且没有区间被遗漏。<br>用贪心算法就可以做。将区间按起点从小到大排列。<br>然后每一次都选一个点，能够尽量的覆盖到最多的区间。直到不能覆盖为止。依次取点，直到区间都有点落在上面。<br><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">type</span> ranges [][]<span class="keyword">int</span> </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span><span class="params">(r ranges)</span><span class="title">Len</span><span class="params">()</span> <span class="title">int</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="built_in">len</span>(r)</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span><span class="params">(r  ranges)</span><span class="title">Less</span><span class="params">(i,j <span class="keyword">int</span>)</span><span class="title">bool</span></span>&#123;</div><div class="line">	<span class="keyword">if</span> r[i][<span class="number">0</span>] != r[j][<span class="number">0</span>]&#123;</div><div class="line">		<span class="keyword">return</span> r[i][<span class="number">0</span>]&lt;r[j][<span class="number">0</span>]</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> r[i][<span class="number">1</span>]&lt;r[j][<span class="number">1</span>]</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r  ranges)</span><span class="title">Swap</span><span class="params">(i,j <span class="keyword">int</span>)</span></span>&#123;</div><div class="line">	r[i][<span class="number">0</span>],r[j][<span class="number">0</span>] = r[j][<span class="number">0</span>],r[i][<span class="number">0</span>]</div><div class="line">	r[j][<span class="number">1</span>],r[i][<span class="number">1</span>] = r[i][<span class="number">1</span>],r[j][<span class="number">1</span>]</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">findMinArrowShots</span><span class="params">(points [][]<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">	p := ranges(points)</div><div class="line">	sort.Sort(p)</div><div class="line">	count := <span class="number">0</span></div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(p);i++&#123;</div><div class="line">		count ++</div><div class="line">		j := i+<span class="number">1</span></div><div class="line">		at := p[i][<span class="number">1</span>]</div><div class="line">		<span class="keyword">for</span> j = i+<span class="number">1</span>;j&lt;<span class="built_in">len</span>(p) ;j++&#123;</div><div class="line">			<span class="keyword">if</span> p[j][<span class="number">0</span>]&gt;at&#123;</div><div class="line">				i = j<span class="number">-1</span></div><div class="line">				<span class="keyword">break</span></div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> p[j][<span class="number">1</span>] &lt; at&#123;</div><div class="line">				at = p[j][<span class="number">1</span>]</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> j == <span class="built_in">len</span>(p)&#123;</div><div class="line">			<span class="keyword">break</span></div><div class="line">		&#125;</div><div class="line">		</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> count</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="4-446-Arithmetic-Slices-II-Subsequence"><a href="#4-446-Arithmetic-Slices-II-Subsequence" class="headerlink" title="4. 446. Arithmetic Slices II - Subsequence"></a>4. 446. Arithmetic Slices II - Subsequence</h2><p>A zero-indexed array A consisting of N numbers is given. A subsequence slice of that array is any sequence of integers (P0, P1, …, Pk) such that 0 ≤ P0 &lt; P1 &lt; … &lt; Pk &lt; N.</p>
<p>A subsequence slice (P0, P1, …, Pk) of array A is called arithmetic if the sequence A[P0], A[P1], …, A[Pk-1], A[Pk] is arithmetic. In particular, this means that k ≥ 2.</p>
<p>The function should return the number of arithmetic subsequence slices in the array A.</p>
<p>Ex:<br><figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">Input</span>: [2, 4, 6, 8, 10]</div><div class="line"></div><div class="line"><span class="http"><span class="attribute">Output</span>: 7</span></div><div class="line"></div><div class="line"><span class="inform7">Explanation:</span></div><div class="line">All arithmetic subsequence slices <span class="keyword">are</span>:</div><div class="line"><span class="comment">[2,4,6]</span></div><div class="line"><span class="comment">[4,6,8]</span></div><div class="line"><span class="comment">[6,8,10]</span></div><div class="line"><span class="comment">[2,4,6,8]</span></div><div class="line"><span class="comment">[4,6,8,10]</span></div><div class="line"><span class="comment">[2,4,6,8,10]</span></div><div class="line"><span class="comment">[2,6,10]</span></div></pre></td></tr></table></figure></p>
<p>这题试了下DFS会超时，用DP做会MLE。最后没做出来。<br>给个别人的代码：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">numberOfArithmeticSlices</span><span class="params">(self, A)</span>:</span></div><div class="line">		<span class="string">"""</span></div><div class="line">		:type A: List[int]</div><div class="line">		:rtype: int</div><div class="line">		"""</div><div class="line">		ans=<span class="number">0</span></div><div class="line">		dp = []</div><div class="line">		<span class="keyword">for</span> i <span class="keyword">in</span> range(len(A)):</div><div class="line">			a=A[i]</div><div class="line">			dp.append(&#123;&#125;)</div><div class="line">			<span class="keyword">for</span> j <span class="keyword">in</span> range(i):</div><div class="line">				b=A[j]</div><div class="line">				d=a-b</div><div class="line">				<span class="keyword">if</span> d <span class="keyword">in</span> dp[j]:</div><div class="line">					v=<span class="number">1</span>+dp[j][d]</div><div class="line">				<span class="keyword">else</span>:</div><div class="line">					v=<span class="number">1</span></div><div class="line">				<span class="keyword">if</span> d <span class="keyword">in</span> dp[i]:</div><div class="line">					dp[i][d]=dp[i][d]+v</div><div class="line">				<span class="keyword">else</span>:</div><div class="line">					dp[i][d]=v</div><div class="line">			ans += sum([dp[i][x] <span class="keyword">for</span> x <span class="keyword">in</span> dp[i]]) - i</div><div class="line">		<span class="keyword">return</span> ans</div></pre></td></tr></table></figure></p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">Leetcode</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Golang</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/Smarking Algorithm Contest 3.html">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-Smarking Algorithm Contest 2" class="article article-type-post  article-index" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Smarking Algorithm Contest 2.html">Smarking Algorithm Contest 2</a>
    </h1>
  

        
        <a href="/Smarking Algorithm Contest 2.html" class="archive-article-date">
  	<time datetime="2016-10-30T04:21:31.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2016-10-30</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="435-Non-overlapping-Intervals"><a href="#435-Non-overlapping-Intervals" class="headerlink" title="435. Non-overlapping Intervals"></a>435. Non-overlapping Intervals</h2><p>Given a collection of intervals, find the minimum number of intervals you need to remove to make the rest of the intervals non-overlapping.</p>
<p>Note:</p>
<ol>
<li>You may assume the interval’s end point is always bigger than its start point.</li>
<li>Intervals like [1,2] and [2,3] have borders “touching” but they don’t overlap each other.</li>
</ol>
<p>给定一组区间，你可以移除一些区间让这组区间互不重叠。</p>
<p>做法是：</p>
<ol>
<li>首先将区间按照起点大小排序。</li>
<li>将区间中所有完全覆盖其他区间的区间移除掉。</li>
<li>在剩下的区间中，如果有区间，和它之前的区间有重叠，就移除它。</li>
</ol>
<p>代码如下：<br><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">type</span> arrI []Interval</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a arrI)</span><span class="title">Len</span><span class="params">()</span> <span class="title">int</span></span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="built_in">len</span>(a)</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a arrI)</span><span class="title">Less</span><span class="params">(i,j <span class="keyword">int</span>)</span> <span class="title">bool</span></span>&#123;</div><div class="line">	<span class="keyword">if</span> a[i].Start!=a[j].Start&#123;</div><div class="line">		<span class="keyword">return</span> a[i].Start&lt;a[j].Start</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> a[i].End&gt;=a[j].End</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a arrI)</span><span class="title">Swap</span><span class="params">(i,j <span class="keyword">int</span>)</span></span>&#123;</div><div class="line">	a[i],a[j] = a[j],a[i]</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">eraseOverlapIntervals</span><span class="params">(intervals []Interval)</span> <span class="title">int</span></span> &#123;</div><div class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(intervals) &lt;= <span class="number">1</span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span></div><div class="line">	&#125;</div><div class="line">	tmp := arrI(intervals)</div><div class="line">    sort.Sort(tmp)</div><div class="line">	res := tmp[<span class="number">0</span>]</div><div class="line">	count :=<span class="number">0</span></div><div class="line">	ret := []Interval&#123;&#125;</div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(tmp);i++&#123;</div><div class="line">		flag := <span class="literal">false</span></div><div class="line">		<span class="keyword">if</span> <span class="built_in">len</span>(ret)&gt;<span class="number">0</span> &amp;&amp; tmp[i].Start &lt;=  ret[<span class="built_in">len</span>(ret)<span class="number">-1</span>].Start&#123;</div><div class="line">			flag = <span class="literal">true</span></div><div class="line">			count ++</div><div class="line">		&#125;<span class="keyword">else</span>&#123;</div><div class="line">			<span class="keyword">for</span> j:=i+<span class="number">1</span>;j&lt;<span class="built_in">len</span>(tmp);j++&#123;</div><div class="line">				<span class="keyword">if</span> tmp[i].End &lt;= tmp[j].Start&#123;</div><div class="line">					<span class="keyword">break</span></div><div class="line">				&#125;</div><div class="line">				<span class="keyword">if</span> tmp[i].End &gt;= tmp[j].End&#123;</div><div class="line">					flag = <span class="literal">true</span></div><div class="line">					count ++</div><div class="line">					<span class="keyword">break</span></div><div class="line">				&#125;</div><div class="line">				</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> !flag&#123;</div><div class="line">			ret = <span class="built_in">append</span>(ret,tmp[i])</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(ret) == <span class="number">0</span>&#123;</div><div class="line">		<span class="keyword">return</span> count</div><div class="line">	&#125;</div><div class="line">	res =ret[<span class="number">0</span>]</div><div class="line">	<span class="keyword">for</span> i:=<span class="number">1</span>;i&lt;<span class="built_in">len</span>(ret);i++&#123;</div><div class="line">		<span class="keyword">if</span> ret[i].Start &gt;= res.End&#123;</div><div class="line">			res = ret[i]</div><div class="line">		&#125;<span class="keyword">else</span>&#123;</div><div class="line">			count ++</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> count</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="436-Find-Right-Interval"><a href="#436-Find-Right-Interval" class="headerlink" title="436. Find Right Interval"></a>436. Find Right Interval</h2><p>Given a set of intervals, for each of the interval i, check if there exists an interval j whose start point is bigger than or equal to the end point of the interval i, which can be called that j is on the “right” of i.</p>
<p>For any interval i, you need to store the minimum interval j’s index, which means that the interval j has the minimum start point to build the “right” relationship for interval i. If the interval j doesn’t exist, store -1 for the interval i. Finally, you need output the stored value of each interval as an array.</p>
<p>Note:</p>
<ol>
<li>You may assume the interval’s end point is always bigger than its start point.</li>
<li>You may assume none of these intervals have the same start point.<br>给定一组区间，对于每一个区间，如果有其他区间的起点大于等于这个区间的终点，那么就称这个区间有右区间。找出最近的右区间的下标。没有右区间则该区间的最小右区间为-1。</li>
</ol>
<p>这题直接用o(n*n)的算法就能过。即一个个找右区间。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">findRightInterval</span><span class="params">(intervals []Interval)</span> []<span class="title">int</span></span> &#123;</div><div class="line">    ret := <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="built_in">len</span>(intervals))</div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(intervals);i++&#123;</div><div class="line">		min := i</div><div class="line">		<span class="keyword">for</span> j:=<span class="number">0</span>;j&lt;<span class="built_in">len</span>(intervals);j++&#123;</div><div class="line">			<span class="keyword">if</span> j == i&#123;</div><div class="line">				<span class="keyword">continue</span></div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> intervals[j].Start &gt;= intervals[i].End&#123;</div><div class="line">				<span class="keyword">if</span> min == i || intervals[j].Start &lt; intervals[min].Start&#123;</div><div class="line">					 min = j</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> min == i&#123;</div><div class="line">			min = <span class="number">-1</span></div><div class="line">		&#125;</div><div class="line">		ret[i] = min</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ret</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="441-Arranging-Coins"><a href="#441-Arranging-Coins" class="headerlink" title="441. Arranging Coins"></a>441. Arranging Coins</h2><p>You have a total of n coins that you want to form in a staircase shape, where every k-th row must have exactly k coins.</p>
<p>Given n, find the total number of full staircase rows that can be formed.</p>
<p>n is a non-negative integer and fits within the range of a 32-bit signed integer.</p>
<p>水题，没啥好说的。<br><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">arrangeCoins</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">    idx  :=<span class="number">1</span>;</div><div class="line">	<span class="keyword">for</span> (n&gt;=idx)&#123;</div><div class="line">		n -=idx</div><div class="line">		idx ++</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> idx<span class="number">-1</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="444-Sequence-Reconstruction"><a href="#444-Sequence-Reconstruction" class="headerlink" title="444. Sequence Reconstruction"></a>444. Sequence Reconstruction</h2><p>Check whether the original sequence org can be uniquely reconstructed from the sequences in seqs. The org sequence is a permutation of the integers from 1 to n, with 1 ≤ n ≤ 10^4. Reconstruction means building a shortest common supersequence of the sequences in seqs (i.e., a shortest sequence so that all sequences in seqs are subsequences of it). Determine whether there is only one sequence that can be reconstructed from seqs and it is the org sequence.</p>
<p><a href="https://leetcode.com/contest/11/problems/sequence-reconstruction/" rel="external nofollow noopener noreferrer" target="_blank">link</a><br>没做出来，贴个别人的代码。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">sequenceReconstruction</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; org, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; seqs)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> n = org.size();</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; to(n), in(n);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; vis(n);</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; adj(n);</div><div class="line">        <span class="keyword">int</span> k = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;x : org) &#123;</div><div class="line">            x--;</div><div class="line">            to[x] = k++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;vec : seqs) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;c : vec) &#123;</div><div class="line">                c--;</div><div class="line">                <span class="keyword">if</span> (c &lt; <span class="number">0</span> || c &gt;= n) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                &#125;</div><div class="line">                vis[to[c]] = <span class="literal">true</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; vec.size(); i++) &#123;</div><div class="line">                <span class="keyword">auto</span> x = to[vec[i - <span class="number">1</span>]], y = to[vec[i]];</div><div class="line">                adj[x].push_back(y);</div><div class="line">                in[y]++;</div><div class="line">                <span class="keyword">if</span> (x &gt; y) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (!vis[i]) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (!in[i]) &#123;</div><div class="line">                q.push(i);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; sorted;</div><div class="line">        <span class="keyword">while</span> (!q.empty()) &#123;</div><div class="line">            <span class="keyword">if</span> (q.size() &gt; <span class="number">1</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">auto</span> s = q.front();</div><div class="line">            q.pop();</div><div class="line">            sorted.push_back(s);</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> v : adj[s]) &#123;</div><div class="line">                <span class="keyword">if</span> (!--in[v]) &#123;</div><div class="line">                    q.push(v);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (i != sorted[i]) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">Leetcode</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Golang</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/Smarking Algorithm Contest 2.html">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-leetcode_weekly_contest10" class="article article-type-post  article-index" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/leetcode_weekly_contest10.html">Leetcode第十周周赛Smarking Algorithm Contest</a>
    </h1>
  

        
        <a href="/leetcode_weekly_contest10.html" class="archive-article-date">
  	<time datetime="2016-10-23T06:37:31.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2016-10-23</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="437-Path-Sum-III"><a href="#437-Path-Sum-III" class="headerlink" title="437. Path Sum III"></a>437. Path Sum III</h2><p>You are given a binary tree in which each node contains an integer value.</p>
<p>Find the number of paths that sum to a given value.</p>
<p>The path does not need to start or end at the root or a leaf, but it must go downwards (traveling only from parent nodes to child nodes).</p>
<p>The tree has no more than 1,000 nodes and the values are in the range -1,000,000 to 1,000,000.<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">root = [<span class="number">10</span>,<span class="number">5</span>,-<span class="number">3</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="literal">null</span>,<span class="number">11</span>,<span class="number">3</span>,-<span class="number">2</span>,<span class="literal">null</span>,<span class="number">1</span>], sum = <span class="number">8</span></div><div class="line"></div><div class="line">      <span class="number">10</span></div><div class="line">     /  <span class="string">\</span></div><div class="line">    <span class="number">5</span>   -<span class="number">3</span></div><div class="line">   / <span class="string">\</span>    <span class="string">\</span></div><div class="line">  <span class="number">3</span>   <span class="number">2</span>   <span class="number">11</span></div><div class="line"> / <span class="string">\</span>   <span class="string">\</span></div><div class="line"><span class="number">3</span>  -<span class="number">2</span>   <span class="number">1</span></div><div class="line"></div><div class="line">Return <span class="number">3.</span> The paths <span class="literal">that</span> sum <span class="keyword">to</span> <span class="number">8</span> are:</div><div class="line"></div><div class="line"><span class="number">1.</span>  <span class="number">5</span><span class="function"> -&gt;</span> <span class="number">3</span></div><div class="line"><span class="number">2.</span>  <span class="number">5</span><span class="function"> -&gt;</span> <span class="number">2</span><span class="function"> -&gt;</span> <span class="number">1</span></div><div class="line"><span class="number">3.</span> -<span class="number">3</span><span class="function"> -&gt;</span> <span class="number">11</span></div></pre></td></tr></table></figure></p>
<p>给你个树，求出所有符合路径上的节点的值的和等于给定值这个条件的路径的个数。路径要求是自上而下，但是不要求从根出发，也不要求以叶子节点作为结尾。<br>挂在这道题上面了。<br>给个别人的解法：<br>将路径分为两种走法，每个节点都有两种走法。第一种情况是以这个节点为起点，开始出发。第二种是继承之前的走法接着走下去。<br><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> res <span class="keyword">int</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">go2</span><span class="params">(root *TreeNode, need <span class="keyword">int</span>)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span>&#123;</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> need == <span class="number">0</span>&#123;</div><div class="line">		res ++</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> root.Left != <span class="literal">nil</span>&#123;</div><div class="line">		go2(root.Left,need-root.Left.Val)</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> root.Right != <span class="literal">nil</span>&#123;</div><div class="line">		go2(root.Right,need-root.Right.Val)</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">go1</span><span class="params">(root * TreeNode, need <span class="keyword">int</span>)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span>&#123;</div><div class="line">		<span class="keyword">return</span></div><div class="line">	&#125;</div><div class="line">	go2(root,need-root.Val)</div><div class="line">	go1(root.Left,need)</div><div class="line">	go1(root.Right,need)</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">pathSum</span><span class="params">(root *TreeNode, sum <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">	res = <span class="number">0</span></div><div class="line">	go1(root, sum)</div><div class="line">	<span class="keyword">return</span> res</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="438-Find-All-Anagrams-in-a-String"><a href="#438-Find-All-Anagrams-in-a-String" class="headerlink" title="438. Find All Anagrams in a String"></a>438. Find All Anagrams in a String</h2><p>Given a string s and a non-empty string p, find all the start indices of p’s anagrams in s.</p>
<p>Strings consists of lowercase English letters only and the length of both strings s and p will not be larger than 20,100.</p>
<p>The order of output does not matter.<br>Example 1:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line">s: "cbaebabacd" p: "abc"</div><div class="line"></div><div class="line">Output:</div><div class="line">[0, 6]</div><div class="line"></div><div class="line">Explanation:</div><div class="line">The substring with <span class="keyword">start</span> <span class="keyword">index</span> = <span class="number">0</span> <span class="keyword">is</span> <span class="string">"cba"</span>, which <span class="keyword">is</span> an anagram <span class="keyword">of</span> <span class="string">"abc"</span>.</div><div class="line">The <span class="keyword">substring</span> <span class="keyword">with</span> <span class="keyword">start</span> <span class="keyword">index</span> = <span class="number">6</span> <span class="keyword">is</span> <span class="string">"bac"</span>, which <span class="keyword">is</span> an anagram <span class="keyword">of</span> <span class="string">"abc"</span>.</div></pre></td></tr></table></figure></p>
<p>Example 2:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Input:</div><div class="line">s: "abab" p: "ab"</div><div class="line"></div><div class="line">Output:</div><div class="line">[0, 1, 2]</div><div class="line"></div><div class="line">Explanation:</div><div class="line">The substring with <span class="keyword">start</span> <span class="keyword">index</span> = <span class="number">0</span> <span class="keyword">is</span> <span class="string">"ab"</span>, which <span class="keyword">is</span> an anagram <span class="keyword">of</span> <span class="string">"ab"</span>.</div><div class="line">The <span class="keyword">substring</span> <span class="keyword">with</span> <span class="keyword">start</span> <span class="keyword">index</span> = <span class="number">1</span> <span class="keyword">is</span> <span class="string">"ba"</span>, which <span class="keyword">is</span> an anagram <span class="keyword">of</span> <span class="string">"ab"</span>.</div><div class="line">The <span class="keyword">substring</span> <span class="keyword">with</span> <span class="keyword">start</span> <span class="keyword">index</span> = <span class="number">2</span> <span class="keyword">is</span> <span class="string">"ab"</span>, which <span class="keyword">is</span> an anagram <span class="keyword">of</span> <span class="string">"ab"</span>.</div></pre></td></tr></table></figure></p>
<p>给定两个字符串s,p，求出p的所有变形（包括自己）在s中的起点。<br>解法是统计p中的词频，然后统计s中i到<code>i+len(p)</code>中的字符串的词频。相比较，如果相等则说明命中了。<br><figure class="highlight go"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">check</span><span class="params">(a,b,c [26]<span class="keyword">int</span>)</span> <span class="title">bool</span></span>&#123;</div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++&#123;</div><div class="line">		<span class="keyword">if</span> a[i]-b[i] != c[i]&#123;</div><div class="line">			<span class="keyword">return</span> <span class="literal">false</span></div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">findAnagrams</span><span class="params">(s <span class="keyword">string</span>, p <span class="keyword">string</span>)</span> []<span class="title">int</span></span> &#123;</div><div class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(s)&lt;<span class="built_in">len</span>(p)&#123;</div><div class="line">		<span class="keyword">return</span> []<span class="keyword">int</span>&#123;&#125;</div><div class="line">	&#125;</div><div class="line">	ret := []<span class="keyword">int</span>&#123;&#125;</div><div class="line">    start, end, mark := [<span class="number">26</span>]<span class="keyword">int</span>&#123;&#125;,[<span class="number">26</span>]<span class="keyword">int</span>&#123;&#125;,[<span class="number">26</span>]<span class="keyword">int</span>&#123;&#125;</div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(p);i++&#123;</div><div class="line">		mark[p[i]-<span class="string">'a'</span>] ++</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(p);i++&#123;</div><div class="line">		end[s[i]-<span class="string">'a'</span>] ++</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> check(end,start,mark)&#123;</div><div class="line">		ret = <span class="built_in">append</span>(ret,<span class="number">0</span>)</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> i:=<span class="built_in">len</span>(p);i&lt;<span class="built_in">len</span>(s);i++&#123;</div><div class="line">		start[s[i-<span class="built_in">len</span>(p)]-<span class="string">'a'</span>] ++</div><div class="line">		end[s[i]-<span class="string">'a'</span>]++</div><div class="line">		<span class="keyword">if</span> check(end,start,mark)&#123;</div><div class="line">			ret = <span class="built_in">append</span>(ret,i-<span class="built_in">len</span>(p)+<span class="number">1</span>)</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ret</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="439-Ternary-Expression-Parser"><a href="#439-Ternary-Expression-Parser" class="headerlink" title="439. Ternary Expression Parser"></a>439. Ternary Expression Parser</h2><p>Given a string representing arbitrarily nested ternary expressions, calculate the result of the expression. You can always assume that the given expression is valid and only consists of digits 0-9, ?, :, T and F (T and F represent True and False respectively).</p>
<p>Note:</p>
<ol>
<li>The length of the given string is ≤ 10000.</li>
<li>Each number will contain only one digit.</li>
<li>The conditional expressions group right-to-left (as usual in most languages).</li>
<li>The condition will always be either T or F. That is, the condition will never be a digit.</li>
<li>The result of the expression will always evaluate to either a digit 0-9, T or F.<br>Example 1:<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Input: <span class="string">"T?2:3"</span></div><div class="line">Output: <span class="string">"2"</span></div><div class="line">Explanation: If <span class="literal">true</span>, <span class="keyword">then</span> <span class="literal">result</span> <span class="keyword">is</span> <span class="number">2</span>; otherwise <span class="literal">result</span> <span class="keyword">is</span> <span class="number">3.</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>Example 2:<br><figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">Input</span>: "F?1:T?4:5"</div><div class="line"><span class="attribute">Output</span>: "4"</div><div class="line"><span class="attribute">Explanation</span>: The conditional expressions group right-to-left. Using parenthesis, it is read/evaluated as:</div><div class="line"></div><div class="line"><span class="clean"></span></div><div class="line">             <span class="string">"(F ? 1 : (T ? 4 : 5))"</span>                   <span class="string">"(F ? 1 : (T ? 4 : 5))"</span></div><div class="line">          -&gt; <span class="string">"(F ? 1 : 4)"</span>                 or       -&gt; <span class="string">"(T ? 4 : 5)"</span></div><div class="line">          -&gt; <span class="string">"4"</span>                                    -&gt; <span class="string">"4"</span></div><div class="line">```   </div><div class="line"></div><div class="line"></div><div class="line">就是C语言中常见的`?:`语句。</div><div class="line">这题可以利用栈来做，也可以利用递归来做，应该也可以用正则表达式来做。</div><div class="line">下面是递归的做法：</div></pre></td></tr></table></figure></p>
<p>func parseTernary(e string) string {<br>    if e[0] != ‘T’ &amp;&amp; e[0]!=’F’{<br>        return e<br>    }<br>    c1,c2,i := 0,0,1<br>    for i=1;i<len(e);i++{ if="" e[i]="=" '?'{="" c1="" ++="" }else{="" ':'{="" c2="" c2{="" break;="" }="" i="=" len(e){="" return="" e="" e[0]="=" 't'{="" parseternary(e[2:i])="" parseternary(e[i+1:])="" <figure="" class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">## 440. K-th Smallest in Lexicographical Order</span></div><div class="line">Given integers n <span class="keyword">and</span> k, find <span class="keyword">the</span> lexicographically k-th smallest <span class="keyword">integer</span> <span class="keyword">in</span> <span class="keyword">the</span> range <span class="built_in">from</span> <span class="number">1</span> <span class="built_in">to</span> n.</div><div class="line"></div><div class="line">Note: <span class="number">1</span> ≤ k ≤ n ≤ <span class="number">109.</span></div><div class="line"></div><div class="line">Example:</div></pre></td></tr></table></len(e);i++{></p>
<p>Input:<br>n: 13   k: 2</p>
<p>Output:<br>10</p>
<p>Explanation:<br>The lexicographical order is [1, 10, 11, 12, 13, 2, 3, 4, 5, 6, 7, 8, 9], so the second smallest number is 10.<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">求字典序的题。和头条的校招面试题一模一样。</div></pre></td></tr></table></figure></p>
<p>var Len,n,m,ret int<br>var num,ans [20]int</p>
<p>func valueOfBegin(b int ) int{<br>    cnt :=0<br>    for i:=b;i&lt;=Len;i++{<br>        cnt = cnt <em>10 + num[Len-i+1]<br>    }<br>    return cnt<br>}<br>func countofNum(a [20]int,anslen int) int{<br>    k,cnt :=1,0<br>    for i:=0;i+anslen &lt;Len;i++{<br>        cnt +=k<br>        k</em>=10<br>    }<br>    op :=0<br>    for i:=1;i&lt;=anslen;i++{<br>        id := Len-i+1<br>        if num[id]&gt;a[i]{<br>            op = -1<br>            break<br>        }else if num[id] &lt; a[i]{<br>            op = 1<br>            break<br>        }<br>    }<br>    if op == 0{<br>        if anslen == Len{<br>            return 1<br>        }<br>        return valueOfBegin(anslen+1)+1+cnt<br>    }<br>    if op == 1{<br>        return cnt<br>    }<br>        k = 1<br>        for i:=0;i&lt;Len-anslen;i++{<br>            k*=10</p>
<pre><code>}
return cnt +k
</code></pre><p>}</p>
<p>func dfs(ans [20]int, cur,m int){<br>    if m == 1{<br>        ret = 0<br>        for i:=1;i&lt;=cur;i++{<br>            ret = ret *10 + ans[i]<br>        }<br>        return<br>    }<br>    m –<br>    for i:=0;i&lt;=9;i++{<br>        ans[cur+1] = i<br>        cnt := countofNum(ans,cur+1)<br>        if cnt &gt;=m{<br>            dfs(ans,cur+1,m)<br>            return<br>        }else{<br>            m -= cnt<br>        }<br>    }<br>}</p>
<p>func findKthNumber(a int, k int) int {<br>    Len = 0<br>    n = a<br>    m = k<br>    for n&gt;0{<br>        Len ++<br>        num[Len] = n%10<br>        n/=10<br>    }<br>    for i:=1;i&lt;=9;i++{<br>        ans[1] = i<br>        cnt := countofNum(ans,1)<br>        if cnt &gt;=m{<br>            dfs(ans,1,m)<br>            break<br>        }else{<br>            m -= cnt<br>        }<br>    }<br>    return ret<br>}<br>```</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">Leetcode</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Golang</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/leetcode_weekly_contest10.html">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-dpdk_pcap" class="article article-type-post  article-index" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/dpdk_pcap.html">手写一个Pcap捕包工具及性能优化</a>
    </h1>
  

        
        <a href="/dpdk_pcap.html" class="archive-article-date">
  	<time datetime="2016-10-19T04:37:31.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2016-10-19</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这是在项目上遇到的问题。因为项目的缘故，需要实现pcap捕包的功能，在使用后发现libpcap自身API使用比较复杂，就手写了一个API并尝试进行性能优化。部分代码在githuab上。<a href="https://github.com/NachtZ/pcapDumper" rel="external nofollow noopener noreferrer" target="_blank">pcapDumper</a></p>
<h2 id="pcap文件格式"><a href="#pcap文件格式" class="headerlink" title="pcap文件格式"></a>pcap文件格式</h2><p>一个pcap文件的结构如下：<br><img src="http://hi.csdn.net/attachment/201003/27/4633639_1269693284d53M.png" alt="pic">(图片来自<a href="http://www.cnblogs.com/caoguoping100/p/3658792.html" rel="external nofollow noopener noreferrer" target="_blank">博客</a>)</p>
<p>如上图，一个pcap文件，有两个部分组成，一个Pcap 头部，和一堆包。其中每一个包都有两个字段，分别是Packet Head和 Packet Data。它们的数据结构如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> _pcap_file_header &#123;</div><div class="line">	<span class="keyword">uint32_t</span> magic;</div><div class="line">	<span class="keyword">uint16_t</span> version_major;</div><div class="line">	<span class="keyword">uint16_t</span> version_minor;</div><div class="line">	<span class="keyword">int32_t</span> thiszone;     <span class="comment">/* gmt to local correction */</span></div><div class="line">	<span class="keyword">uint32_t</span> sigfigs;    <span class="comment">/* accuracy of timestamps */</span></div><div class="line">	<span class="keyword">uint32_t</span> snaplen;    <span class="comment">/* max length saved portion of each pkt */</span></div><div class="line">	<span class="keyword">uint32_t</span> linktype;   <span class="comment">/* data link type (LINKTYPE_*) */</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">struct</span> _pcap_pkthdr &#123;</div><div class="line">	<span class="keyword">struct</span> _timeval ts;      <span class="comment">/* time stamp using 32 bits fields */</span></div><div class="line">	<span class="keyword">uint32_t</span> caplen;     <span class="comment">/* length of portion present */</span></div><div class="line">	<span class="keyword">uint32_t</span> len;        <span class="comment">/* length this packet (off wire) */</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p><code>pcap_file_header</code>存储着包结构的头，<code>magic</code>字段是字节顺序。<code>version_major</code> <code>version_minor</code>分别是主版本号和次版本号。 <code>thiszone</code>代表时区， <code>snaplen</code>是数据包的最大长度，一般设置为65535. <code>linktype</code>表示链路类型。<br>可以看到<code>pcap_file_header</code>存储的是，录制这个包的时候的网络状态。</p>
<p><code>pcap_pkthdr</code> 储存的是数据包的结构。包括数据包的时间戳和包长。在这个结构之后，紧跟着就是一段长为<code>len</code>的数据字段，表示的是这个pkthdr所指的数据包，是二层数据包结构。这个<code>len</code>同时也指向了下一个数据包的位置，即偏移到<code>len+1</code>的位置。</p>
<p>在写入的时候，就是按照上图所示，一个<code>pcap_file_hdr</code>,然后<code>pcap_pkthdr1</code>,<code>pkt_data1</code>,<code>pcap_pkthdr2</code>,<code>pkt_data2</code>,这么写入的。<br><figure class="highlight xl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">pcap_file_hdr</span>-&gt;</span><span class="function"><span class="title">pcap_pkthdr</span>-&gt;</span><span class="function"><span class="title">pkt_data</span>-&gt;</span><span class="function"><span class="title">pcap_pkthdr</span>-&gt;</span><span class="function"><span class="title">pkt_data</span>-&gt;</span><span class="function"><span class="title">pcap_pkthdr</span>-&gt;</span><span class="function"><span class="title">pkt_data</span>-&gt;</span><span class="function"><span class="title">pcap_pkthdr</span>-&gt;</span><span class="function"><span class="title">pkt_data</span>-&gt;</span>...</div></pre></td></tr></table></figure></p>
<p>所以在读取pcap文件的时候，实际上是线性的访问数据包的。只有读取了第n个数据包，你才能访问的到底n+1个数据包。</p>
<h2 id="注意的坑"><a href="#注意的坑" class="headerlink" title="注意的坑"></a>注意的坑</h2><p><code>pcap_pkthdr</code>中的<code>timeval</code>是32位。它的实际结构应该是这样的：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> _timeval &#123;</div><div class="line">        <span class="keyword">uint32_t</span> tv_sec;     <span class="comment">/* seconds */</span></div><div class="line">        <span class="keyword">uint32_t</span> tv_usec;    <span class="comment">/* microseconds */</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>在64位系统中，<code>timeval</code>中两个字段都是<code>uint64_t</code>的值。所以如果没有注意到这一点，会出现字段错误。导致保存的pcap包无法被wireshark等工具正常识别。</p>
<h2 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h2><p>在性能上，主要的瓶颈在于写入硬盘。如果程序在每次拿到一个包就写入到硬盘中，就会造成频繁的小文件的写入。这样发挥不了硬盘的最大速度。可以使用一个内存buf来把数据先缓存在内存中，等到了一定大小（比如16M）或者pcap文件写入完毕后再写入硬盘。</p>
<h2 id="架构上的优化"><a href="#架构上的优化" class="headerlink" title="架构上的优化"></a>架构上的优化</h2><p>程序上的优化最高能够让写包速度达到100Mbps。而相对的，硬盘的最高速度应该是在1000Mbps以上，网卡的性能则可以达到10000Mbps上。所以实际上写包速率是满足不了高性能捕包的写包需求的。这个时候就需要从架构上优化了。</p>
<p>有两种思路可以从架构上优化，第一种是使用多线程<strong>并行</strong>。每个线程都进行<code>捕包-&gt;解析包-&gt;写入包-&gt;再捕包</code>的过程。这个过程能够提升一定的性能。但是会有几个问题：</p>
<ol>
<li>频繁的中断。</li>
<li>资源争用。</li>
</ol>
<p>每个线程在写入一个包的时候，在三个过程，需要申请不同的资源，分别是网卡资源，CPU计算资源和硬盘IO资源。系统的中断和切换资源需要消耗一定的时间。此外，资源争用的问题也会发生，这主要体现在硬盘的资源上。在录制包的场景下，硬盘资源是瓶颈资源。这个时候多个线程在频繁请求硬盘资源，会导致硬盘的写入性能下降。比如我有100的时间片，这100的时间片中，可能只有80的时间片用在了真正的写入硬盘中，其他的时间片都花费在了资源调度上。这会使每个线程的性能不及原来单线程的时候，而且硬盘也无法发挥自己百分百的性能。</p>
<p>另一种是使用多线程<strong>并发</strong>。每个线程都只干一件事情。捕包有捕包的线程，解析包有解析包的线程，写入包有写入包的线程。这样在线程间的资源竞争就能够被避免。在实际的项目中，甚至把写入包之后的内存释放都单独分出一个线程。就是为了让硬盘IO的效率达到最大。实际的效果，能够使程序支持1000Mbps的录包速度。如果需要再提高性能，就可能需要使用SSD，或者分布式存储，磁盘阵列等来解决了。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">Linux</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color5">DPDK</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">网络</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/dpdk_pcap.html">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
    <article id="post-leetcode_weekly_contest9" class="article article-type-post  article-index" itemscope="" itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/leetcode_weekly_contest9.html">LeetCode Weekly Contest 9 第九周周赛</a>
    </h1>
  

        
        <a href="/leetcode_weekly_contest9.html" class="archive-article-date">
  	<time datetime="2016-10-16T06:11:31.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2016-10-16</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="422-Valid-Word-Square"><a href="#422-Valid-Word-Square" class="headerlink" title="422. Valid Word Square"></a>422. Valid Word Square</h2><p>Given a sequence of words, check whether it forms a valid word square.</p>
<p>A sequence of words forms a valid word square if the kth row and column read the exact same string, where 0 ≤ k &lt; max(numRows, numColumns).<br>Note:</p>
<pre><code>1. The number of words given is at least 1 and does not exceed 500.
2. Word length will be at least 1 and does not exceed 500.
3. Each word contains only lowercase English alphabet a-z.
</code></pre><p>大致就是讲给定一组string数组，判断string数组是不是符合要求。要求方块横着读和竖着读是一样的。<br>直接判断就行了。<br>golang AC代码：<br><figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">validWordSquare</span><span class="params">(words []<span class="keyword">string</span>)</span> <span class="title">bool</span></span> &#123;</div><div class="line">	str := <span class="string">""</span></div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span> ;i&lt; <span class="built_in">len</span>(words);i++&#123;</div><div class="line">		str = <span class="string">""</span></div><div class="line">		<span class="keyword">for</span> j:=<span class="number">0</span>;j&lt;<span class="built_in">len</span>(words);j++&#123;</div><div class="line">			<span class="keyword">if</span> i &lt; <span class="built_in">len</span>(words[j])&#123;</div><div class="line">				str += <span class="keyword">string</span>(words[j][i])</div><div class="line">			&#125;<span class="keyword">else</span>&#123;</div><div class="line">				<span class="keyword">break</span></div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> str != words[i]&#123;</div><div class="line">			<span class="keyword">return</span> <span class="literal">false</span></div><div class="line">		&#125;</div><div class="line">		</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="423-Reconstruct-Original-Digits-from-English"><a href="#423-Reconstruct-Original-Digits-from-English" class="headerlink" title="423. Reconstruct Original Digits from English"></a>423. Reconstruct Original Digits from English</h2><p>Given a non-empty string containing an out-of-order English representation of digits 0-9, output the digits in ascending order.</p>
<p>Note:</p>
<ol>
<li>Input contains only lowercase English letters.</li>
<li>Input is guaranteed to be valid and can be transformed to its original digits. That means invalid inputs such as “abc” or “zerone” are not permitted.</li>
<li>Input length is less than 50,000.</li>
</ol>
<p>给一串乱序的字母序列，求这个字母序列重组之后所代表的数字串。<br>比如：<br><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">Input:</span> <span class="string">"owoztneoer"</span></div><div class="line"></div><div class="line"><span class="symbol">Output:</span> <span class="string">"012"</span></div></pre></td></tr></table></figure></p>
<p>题目中说给出的字母序列都是必定合法而且唯一的。</p>
<p>这题主要是根据0-9的英文中独占的字母来进行判断的。判断的顺序如下：</p>
<table>
<thead>
<tr>
<th>数字</th>
<th>英文</th>
<th>字母   </th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>zero</td>
<td>z</td>
</tr>
<tr>
<td>6</td>
<td>six</td>
<td>s</td>
</tr>
<tr>
<td>2</td>
<td>two</td>
<td>w</td>
</tr>
<tr>
<td>7</td>
<td>seven</td>
<td>s</td>
</tr>
<tr>
<td>4</td>
<td>four</td>
<td>u</td>
</tr>
<tr>
<td>5</td>
<td>five</td>
<td>v</td>
</tr>
<tr>
<td>1</td>
<td>one</td>
<td>o</td>
</tr>
<tr>
<td>9</td>
<td>nine</td>
<td>n</td>
</tr>
<tr>
<td>8</td>
<td>eight</td>
<td>i</td>
</tr>
<tr>
<td>3</td>
<td>three</td>
<td>t</td>
</tr>
</tbody>
</table>
<p>从表的第一项开始，我们首先可以通过z的个数确定0的个数，然后通过s确定6的个数。依次类推。需要注意的是9的个数是n的个数的一半。最后就能得到乱序序列的原来的数字组合了。<br>golang AC代码：<br><figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">originalDigits</span><span class="params">(s <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</div><div class="line">    nums := []<span class="keyword">string</span>&#123;<span class="string">"zero"</span>,<span class="string">"one"</span>,<span class="string">"two"</span>,<span class="string">"three"</span>,<span class="string">"four"</span>,<span class="string">"five"</span>,<span class="string">"six"</span>,<span class="string">"seven"</span>,<span class="string">"eight"</span>,<span class="string">"nine"</span>&#125;</div><div class="line">	<span class="keyword">var</span> count [<span class="number">10</span>]<span class="keyword">int</span></div><div class="line">	<span class="keyword">var</span> acount [<span class="number">26</span>]<span class="keyword">int</span></div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(s);i++&#123;</div><div class="line">		acount[<span class="keyword">int</span>(s[i]-<span class="string">'a'</span>)] ++</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> acount[<span class="number">25</span>]&gt;<span class="number">0</span>&#123;</div><div class="line">		str := nums[<span class="number">0</span>]</div><div class="line">		count[<span class="number">0</span>] = acount[<span class="number">25</span>]</div><div class="line">		<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(str);i++&#123;</div><div class="line">			acount[<span class="keyword">int</span>(str[i]-<span class="string">'a'</span>)] -= count[<span class="number">0</span>]</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (acount[<span class="keyword">int</span>(<span class="string">'x'</span>-<span class="string">'a'</span>)]&gt;<span class="number">0</span>)&#123;</div><div class="line">		str := nums[<span class="number">6</span>]</div><div class="line">		count[<span class="number">6</span>] = acount[<span class="keyword">int</span>(<span class="string">'x'</span>-<span class="string">'a'</span>)]</div><div class="line">		<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(str);i++&#123;</div><div class="line">			acount[<span class="keyword">int</span>(str[i]-<span class="string">'a'</span>)] -= count[<span class="number">6</span>]</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (acount[<span class="keyword">int</span>(<span class="string">'w'</span>-<span class="string">'a'</span>)]&gt;<span class="number">0</span>)&#123;</div><div class="line">		str := nums[<span class="number">2</span>]</div><div class="line">		count[<span class="number">2</span>] = acount[<span class="keyword">int</span>(<span class="string">'w'</span>-<span class="string">'a'</span>)]</div><div class="line">		<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(str);i++&#123;</div><div class="line">			acount[<span class="keyword">int</span>(str[i]-<span class="string">'a'</span>)] -= count[<span class="number">2</span>]</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">if</span> (acount[<span class="keyword">int</span>(<span class="string">'s'</span>-<span class="string">'a'</span>)]&gt;<span class="number">0</span>)&#123;</div><div class="line">		str := nums[<span class="number">7</span>]</div><div class="line">		count[<span class="number">7</span>] = acount[<span class="keyword">int</span>(<span class="string">'s'</span>-<span class="string">'a'</span>)]</div><div class="line">		<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(str);i++&#123;</div><div class="line">			acount[<span class="keyword">int</span>(str[i]-<span class="string">'a'</span>)] -= count[<span class="number">7</span>]</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (acount[<span class="keyword">int</span>(<span class="string">'u'</span>-<span class="string">'a'</span>)]&gt;<span class="number">0</span>)&#123;</div><div class="line">		str := nums[<span class="number">4</span>]</div><div class="line">		count[<span class="number">4</span>] = acount[<span class="keyword">int</span>(<span class="string">'u'</span>-<span class="string">'a'</span>)]</div><div class="line">		<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(str);i++&#123;</div><div class="line">			acount[<span class="keyword">int</span>(str[i]-<span class="string">'a'</span>)] -= count[<span class="number">4</span>]</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (acount[<span class="keyword">int</span>(<span class="string">'v'</span>-<span class="string">'a'</span>)]&gt;<span class="number">0</span>)&#123;</div><div class="line">		str := nums[<span class="number">5</span>]</div><div class="line">		count[<span class="number">5</span>] = acount[<span class="keyword">int</span>(<span class="string">'v'</span>-<span class="string">'a'</span>)]</div><div class="line">		<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(str);i++&#123;</div><div class="line">			acount[<span class="keyword">int</span>(str[i]-<span class="string">'a'</span>)] -= count[<span class="number">5</span>]</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">		<span class="keyword">if</span> (acount[<span class="keyword">int</span>(<span class="string">'o'</span>-<span class="string">'a'</span>)]&gt;<span class="number">0</span>)&#123;</div><div class="line">		str := nums[<span class="number">1</span>]</div><div class="line">		count[<span class="number">1</span>] = acount[<span class="keyword">int</span>(<span class="string">'o'</span>-<span class="string">'a'</span>)]</div><div class="line">		<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(str);i++&#123;</div><div class="line">			acount[<span class="keyword">int</span>(str[i]-<span class="string">'a'</span>)] -= count[<span class="number">1</span>]</div><div class="line">		&#125;</div><div class="line">	&#125;	</div><div class="line">	<span class="keyword">if</span> (acount[<span class="keyword">int</span>(<span class="string">'n'</span>-<span class="string">'a'</span>)]&gt;<span class="number">0</span>)&#123;</div><div class="line">		str := nums[<span class="number">9</span>]</div><div class="line">		count[<span class="number">9</span>] = acount[<span class="keyword">int</span>(<span class="string">'n'</span>-<span class="string">'a'</span>)]/<span class="number">2</span></div><div class="line">		<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(str);i++&#123;</div><div class="line">			acount[<span class="keyword">int</span>(str[i]-<span class="string">'a'</span>)] -= count[<span class="number">9</span>]</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (acount[<span class="keyword">int</span>(<span class="string">'i'</span>-<span class="string">'a'</span>)]&gt;<span class="number">0</span>)&#123;</div><div class="line">		str := nums[<span class="number">8</span>]</div><div class="line">		count[<span class="number">8</span>] = acount[<span class="keyword">int</span>(<span class="string">'i'</span>-<span class="string">'a'</span>)]</div><div class="line">		<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(str);i++&#123;</div><div class="line">			acount[<span class="keyword">int</span>(str[i]-<span class="string">'a'</span>)] -= count[<span class="number">8</span>]</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	count[<span class="number">3</span>] = acount[<span class="keyword">int</span>(<span class="string">'r'</span>-<span class="string">'a'</span>)]</div><div class="line">	str := <span class="string">""</span></div><div class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;=<span class="number">9</span>;i++&#123;</div><div class="line">		<span class="keyword">for</span> j:=<span class="number">0</span>;j&lt;count[i];j++&#123;</div><div class="line">			str += <span class="keyword">string</span>(i+<span class="string">'0'</span>)</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> str</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="424-Longest-Repeating-Character-Replacement"><a href="#424-Longest-Repeating-Character-Replacement" class="headerlink" title="424. Longest Repeating Character Replacement"></a>424. Longest Repeating Character Replacement</h2><p>Given a string that consists of only uppercase English letters, you can replace any letter in the string with another letter at most k times. Find the length of a longest substring containing all repeating letters you can get after performing the above operations.<br>给定一串仅由大写字母组成的字符串，和一个数字k。假定这个字符串最多有k个字母能被替换成其他字母。求这个替换的过程中，最长的连续重复序列的长度。<br>这道题可以用枚举法，先假设以求最长的连续的A,那么在整个序列中，把不是A的点都标出来。然后看看把这些点中的某K个换成A。求出这个换的过程中的最长长度。<br>算法复杂度是o(n).<br>AC golang代码如下：<br><figure class="highlight golang"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">characterReplacement</span><span class="params">(s <span class="keyword">string</span>, k <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</div><div class="line">    dp := <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="built_in">len</span>(s)+<span class="number">1</span>)</div><div class="line">	<span class="keyword">var</span> ch [<span class="number">26</span>]<span class="keyword">bool</span></div><div class="line">	max := <span class="number">0</span></div><div class="line">	<span class="keyword">if</span> k == <span class="number">0</span>&#123;</div><div class="line">		length := <span class="number">1</span></div><div class="line">		<span class="keyword">for</span> i :=<span class="number">1</span>;i&lt;<span class="built_in">len</span>(s);i++&#123;</div><div class="line">			<span class="keyword">if</span> s[i<span class="number">-1</span>] == s[i]&#123;</div><div class="line">				length ++</div><div class="line">			&#125;<span class="keyword">else</span>&#123;</div><div class="line">				<span class="keyword">if</span> max &lt; length&#123;</div><div class="line">					max = length</div><div class="line">				&#125;</div><div class="line">				length = <span class="number">1</span></div><div class="line">			&#125;</div><div class="line">			</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> max &lt; length&#123;</div><div class="line">					max = length</div><div class="line">				&#125;</div><div class="line">		<span class="keyword">return</span> max;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//length := 0</span></div><div class="line">	<span class="keyword">for</span> i :=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(s);i++&#123;</div><div class="line">		ch[s[i]-<span class="string">'A'</span>] = <span class="literal">true</span></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span> i :=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++&#123;</div><div class="line">		<span class="keyword">if</span> ch[i] == <span class="literal">false</span>&#123;</div><div class="line">			<span class="keyword">continue</span></div><div class="line">		&#125;</div><div class="line">		c := <span class="string">'A'</span> + i</div><div class="line">	<span class="comment">//	if c == 75&#123;</span></div><div class="line">	<span class="comment">//		fmt.Println("break")</span></div><div class="line">	<span class="comment">//	&#125;</span></div><div class="line">		idx :=<span class="number">0</span></div><div class="line">		<span class="keyword">for</span> j:=<span class="number">0</span>;j&lt;<span class="built_in">len</span>(s);j++&#123;</div><div class="line">			<span class="keyword">if</span> <span class="keyword">int</span>(s[j])!=c&#123;</div><div class="line">				dp[idx] = j</div><div class="line">				idx++</div><div class="line">			<span class="comment">//else&#123;</span></div><div class="line">		<span class="comment">//		fmt.Print(j," ")</span></div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="comment">//fmt.Println("|",c)</span></div><div class="line">		<span class="keyword">if</span> idx &lt;= k&#123;</div><div class="line">			<span class="keyword">return</span> <span class="built_in">len</span>(s)</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> max &lt; dp[k]&#123;</div><div class="line">			max = dp[k]</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">for</span> j:= k+<span class="number">1</span>;j &lt;idx;j++&#123;</div><div class="line">			<span class="keyword">if</span> dp[j] - dp[j-k<span class="number">-1</span>] - <span class="number">1</span> &gt;= max&#123;</div><div class="line">				max = dp[j] - dp[j-k<span class="number">-1</span>] - <span class="number">1</span></div><div class="line">				<span class="comment">//fmt.Println(c)</span></div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> max</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="425-Word-Squares"><a href="#425-Word-Squares" class="headerlink" title="425 Word Squares"></a>425 Word Squares</h2><p>没做出来，贴一个别人的python代码，用了trie树加dfs：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wordSquares</span><span class="params">(self, words)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type words: List[str]</div><div class="line">        :rtype: List[List[str]]</div><div class="line">        """</div><div class="line">        self.l = len(words[<span class="number">0</span>])</div><div class="line">        </div><div class="line">        self.trie = self.build(words)</div><div class="line">    </div><div class="line">        self.res = []</div><div class="line">    </div><div class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> words:</div><div class="line">            self.dfs(words, self.trie, [word])</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> self.res</div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(self, words, trie, lst)</span>:</span></div><div class="line">        <span class="keyword">if</span> len(lst) == self.l:</div><div class="line">            self.res.append(lst)</div><div class="line">            <span class="keyword">return</span></div><div class="line">        </div><div class="line">        prefix = <span class="string">''</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(lst)):</div><div class="line">            prefix += lst[i][len(lst)]</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> s <span class="keyword">in</span> self.get(trie, prefix):</div><div class="line">            self.dfs(words, trie, lst + [s])</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">build</span><span class="params">(self, words)</span>:</span></div><div class="line">        trie = &#123;&#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> words:</div><div class="line">            t = trie</div><div class="line">            </div><div class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> word:</div><div class="line">                <span class="keyword">if</span> c <span class="keyword">not</span> <span class="keyword">in</span> t:</div><div class="line">                    t[c] = &#123;&#125;</div><div class="line">                t = t[c]</div><div class="line">            </div><div class="line">            t[<span class="string">'#'</span>] = <span class="string">'#'</span></div><div class="line">        </div><div class="line">        <span class="keyword">return</span> trie</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, trie, prefix)</span>:</span></div><div class="line">        res = []</div><div class="line">        </div><div class="line">        t = trie</div><div class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> prefix:</div><div class="line">            <span class="keyword">if</span> c <span class="keyword">not</span> <span class="keyword">in</span> t:</div><div class="line">                <span class="keyword">return</span> res</div><div class="line">            t = t[c]</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> s <span class="keyword">in</span> self.getall(t):</div><div class="line">            res.append(prefix + s)</div><div class="line">        </div><div class="line">        <span class="keyword">return</span> res</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getall</span><span class="params">(self, t)</span>:</span></div><div class="line">        res = []</div><div class="line">        <span class="keyword">if</span> <span class="string">'#'</span> <span class="keyword">in</span> t: <span class="keyword">return</span> [<span class="string">''</span>]</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> t:</div><div class="line">            <span class="keyword">if</span> c != <span class="string">'#'</span>:</div><div class="line">                <span class="keyword">for</span> s <span class="keyword">in</span> self.getall(t[c]):</div><div class="line">                    res.append(c + s)</div><div class="line">        <span class="keyword">return</span> res</div></pre></td></tr></table></figure></p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">Leetcode</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Golang</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/leetcode_weekly_contest9.html">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>





  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 NachtZ
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="external nofollow noopener noreferrer">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true,
		showTags: false
	}
</script>

<script>!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="./",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){var e=/\/|index.html/g;return t.replace(e,"")===n.replace(e,"")}function i(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,e=0,r=t.length;e<r;e++){var i=t[e];o(n,i.getAttribute("href"))&&(0,d.default)(i,"active")}}function u(t){for(var n=t.offsetLeft,e=t.offsetParent;null!==e;)n+=e.offsetLeft,e=e.offsetParent;return n}function f(t){for(var n=t.offsetTop,e=t.offsetParent;null!==e;)n+=e.offsetTop,e=e.offsetParent;return n}function c(t,n,e,r,o){var i=u(t),c=f(t)-n;if(c-e<=o){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,h.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(e||c)+"px",a.style.left=i+"px",a.style.zIndex=r||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");c(t,document.body.scrollTop,-63,2,0),c(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}function l(){x.default.versions.mobile&&window.screen.width<800&&(i(),s())}var p=e(71),d=r(p),v=e(72),y=(r(v),e(84)),h=r(y),b=e(69),x=r(b),g=e(75),m=r(g),w=e(70);l(),(0,w.addLoadEvent)(function(){m.default.init()}),t.exports={}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var r=e(49),o=e(15);t.exports=function(t){return r(o(t))}},function(t,n,e){t.exports=!e(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,e){var r=e(6),o=e(12);t.exports=e(4)?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(10),o=e(30),i=e(24),u=Object.defineProperty;n.f=e(4)?Object.defineProperty:function(t,n,e){if(r(t),n=i(n,!0),r(e),o)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(22)("wks"),o=e(13),i=e(1).Symbol,u="function"==typeof i,f=t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))};f.store=r},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var r=e(35),o=e(16);t.exports=Object.keys||function(t){return r(t,o)}},function(t,n,e){var r=e(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(6).f,o=e(2),i=e(7)("toStringTag");t.exports=function(t,n,e){t&&!o(t=e?t:t.prototype,i)&&r(t,i,{configurable:!0,value:n})}},function(t,n,e){var r=e(22)("keys"),o=e(13);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,n,e){var r=e(1),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(11);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var r=e(1),o=e(14),i=e(18),u=e(26),f=e(6).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||f(n,t,{value:u.f(t)})}},function(t,n,e){n.f=e(7)},function(t,n,e){var r=e(1),o=e(14),i=e(46),u=e(5),f="prototype",c=function(t,n,e){var a,s,l,p=t&c.F,d=t&c.G,v=t&c.S,y=t&c.P,h=t&c.B,b=t&c.W,x=d?o:o[n]||(o[n]={}),g=x[f],m=d?r:v?r[n]:(r[n]||{})[f];d&&(e=n);for(a in e)s=!p&&m&&void 0!==m[a],s&&a in x||(l=s?m[a]:e[a],x[a]=d&&"function"!=typeof m[a]?e[a]:h&&s?i(l,r):b&&m[a]==l?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n[f]=t[f],n}(l):y&&"function"==typeof l?i(Function.call,l):l,y&&((x.virtual||(x.virtual={}))[a]=l,t&c.R&&g&&!g[a]&&u(g,a,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var r=e(11),o=e(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,e){t.exports=!e(4)&&!e(8)(function(){return 7!=Object.defineProperty(e(29)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){"use strict";var r=e(18),o=e(27),i=e(36),u=e(5),f=e(2),c=e(17),a=e(51),s=e(20),l=e(58),p=e(7)("iterator"),d=!([].keys&&"next"in[].keys()),v="@@iterator",y="keys",h="values",b=function(){return this};t.exports=function(t,n,e,x,g,m,w){a(e,n,x);var O,S,_,j=function(t){if(!d&&t in A)return A[t];switch(t){case y:return function(){return new e(this,t)};case h:return function(){return new e(this,t)}}return function(){return new e(this,t)}},P=n+" Iterator",E=g==h,M=!1,A=t.prototype,T=A[p]||A[v]||g&&A[g],L=T||j(g),N=g?E?j("entries"):L:void 0,C="Array"==n?A.entries||T:T;if(C&&(_=l(C.call(new t)),_!==Object.prototype&&(s(_,P,!0),r||f(_,p)||u(_,p,b))),E&&T&&T.name!==h&&(M=!0,L=function(){return T.call(this)}),r&&!w||!d&&!M&&A[p]||u(A,p,L),c[n]=L,c[P]=b,g)if(O={values:E?L:j(h),keys:m?L:j(y),entries:N},w)for(S in O)S in A||i(A,S,O[S]);else o(o.P+o.F*(d||M),n,O);return O}},function(t,n,e){var r=e(10),o=e(55),i=e(16),u=e(21)("IE_PROTO"),f=function(){},c="prototype",a=function(){var t,n=e(29)("iframe"),r=i.length,o="<",u=">";for(n.style.display="none",e(48).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+u+"document.F=Object"+o+"/script"+u),t.close(),a=t.F;r--;)delete a[c][i[r]];return a()};t.exports=Object.create||function(t,n){var e;return null!==t?(f[c]=r(t),e=new f,f[c]=null,e[u]=t):e=a(),void 0===n?e:o(e,n)}},function(t,n,e){var r=e(35),o=e(16).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(2),o=e(3),i=e(45)(!1),u=e(21)("IE_PROTO");t.exports=function(t,n){var e,f=o(t),c=0,a=[];for(e in f)e!=u&&r(f,e)&&a.push(e);for(;n.length>c;)r(f,e=n[c++])&&(~i(a,e)||a.push(e));return a}},function(t,n,e){t.exports=e(5)},function(t,n,e){var r=e(15);t.exports=function(t){return Object(r(t))}},function(t,n,e){t.exports={default:e(41),__esModule:!0}},function(t,n,e){t.exports={default:e(42),__esModule:!0}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(39),i=r(o),u=e(38),f=r(u),c="function"==typeof f.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":typeof t};n.default="function"==typeof f.default&&"symbol"===c(i.default)?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":"undefined"==typeof t?"undefined":c(t)}},function(t,n,e){e(65),e(63),e(66),e(67),t.exports=e(14).Symbol},function(t,n,e){e(64),e(68),t.exports=e(26).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,e){var r=e(3),o=e(61),i=e(60);t.exports=function(t){return function(n,e,u){var f,c=r(n),a=o(c.length),s=i(u,a);if(t&&e!=e){for(;a>s;)if(f=c[s++],f!=f)return!0}else for(;a>s;s++)if((t||s in c)&&c[s]===e)return t||s||0;return!t&&-1}}},function(t,n,e){var r=e(43);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var r=e(9),o=e(34),i=e(19);t.exports=function(t){var n=r(t),e=o.f;if(e)for(var u,f=e(t),c=i.f,a=0;f.length>a;)c.call(t,u=f[a++])&&n.push(u);return n}},function(t,n,e){t.exports=e(1).document&&document.documentElement},function(t,n,e){var r=e(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){var r=e(28);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){"use strict";var r=e(32),o=e(12),i=e(20),u={};e(5)(u,e(7)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(u,{next:o(1,e)}),i(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){var r=e(9),o=e(3);t.exports=function(t,n){for(var e,i=o(t),u=r(i),f=u.length,c=0;f>c;)if(i[e=u[c++]]===n)return e}},function(t,n,e){var r=e(13)("meta"),o=e(11),i=e(2),u=e(6).f,f=0,c=Object.isExtensible||function(){return!0},a=!e(8)(function(){return c(Object.preventExtensions({}))}),s=function(t){u(t,r,{value:{i:"O"+ ++f,w:{}}})},l=function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!n)return"E";s(t)}return t[r].i},p=function(t,n){if(!i(t,r)){if(!c(t))return!0;if(!n)return!1;s(t)}return t[r].w},d=function(t){return a&&v.NEED&&c(t)&&!i(t,r)&&s(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}},function(t,n,e){var r=e(6),o=e(10),i=e(9);t.exports=e(4)?Object.defineProperties:function(t,n){o(t);for(var e,u=i(n),f=u.length,c=0;f>c;)r.f(t,e=u[c++],n[e]);return t}},function(t,n,e){var r=e(19),o=e(12),i=e(3),u=e(24),f=e(2),c=e(30),a=Object.getOwnPropertyDescriptor;n.f=e(4)?a:function(t,n){if(t=i(t),n=u(n,!0),c)try{return a(t,n)}catch(t){}if(f(t,n))return o(!r.f.call(t,n),t[n])}},function(t,n,e){var r=e(3),o=e(33).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(t){try{return o(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?f(t):o(r(t))}},function(t,n,e){var r=e(2),o=e(37),i=e(21)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var r=e(23),o=e(15);t.exports=function(t){return function(n,e){var i,u,f=String(o(n)),c=r(e),a=f.length;return c<0||c>=a?t?"":void 0:(i=f.charCodeAt(c),i<55296||i>56319||c+1===a||(u=f.charCodeAt(c+1))<56320||u>57343?t?f.charAt(c):i:t?f.slice(c,c+2):(i-55296<<10)+(u-56320)+65536)}}},function(t,n,e){var r=e(23),o=Math.max,i=Math.min;t.exports=function(t,n){return t=r(t),t<0?o(t+n,0):i(t,n)}},function(t,n,e){var r=e(23),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,n,e){"use strict";var r=e(44),o=e(52),i=e(17),u=e(3);t.exports=e(31)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,o(1)):"keys"==n?o(0,e):"values"==n?o(0,t[e]):o(0,[e,t[e]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,n){},function(t,n,e){"use strict";var r=e(59)(!0);e(31)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},function(t,n,e){"use strict";var r=e(1),o=e(2),i=e(4),u=e(27),f=e(36),c=e(54).KEY,a=e(8),s=e(22),l=e(20),p=e(13),d=e(7),v=e(26),y=e(25),h=e(53),b=e(47),x=e(50),g=e(10),m=e(3),w=e(24),O=e(12),S=e(32),_=e(57),j=e(56),P=e(6),E=e(9),M=j.f,A=P.f,T=_.f,L=r.Symbol,N=r.JSON,C=N&&N.stringify,k="prototype",F=d("_hidden"),q=d("toPrimitive"),I={}.propertyIsEnumerable,B=s("symbol-registry"),D=s("symbols"),W=s("op-symbols"),H=Object[k],K="function"==typeof L,R=r.QObject,J=!R||!R[k]||!R[k].findChild,U=i&&a(function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=M(H,n);r&&delete H[n],A(t,n,e),r&&t!==H&&A(H,n,r)}:A,G=function(t){var n=D[t]=S(L[k]);return n._k=t,n},$=K&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},z=function(t,n,e){return t===H&&z(W,n,e),g(t),n=w(n,!0),g(e),o(D,n)?(e.enumerable?(o(t,F)&&t[F][n]&&(t[F][n]=!1),e=S(e,{enumerable:O(0,!1)})):(o(t,F)||A(t,F,O(1,{})),t[F][n]=!0),U(t,n,e)):A(t,n,e)},Y=function(t,n){g(t);for(var e,r=b(n=m(n)),o=0,i=r.length;i>o;)z(t,e=r[o++],n[e]);return t},Q=function(t,n){return void 0===n?S(t):Y(S(t),n)},X=function(t){var n=I.call(this,t=w(t,!0));return!(this===H&&o(D,t)&&!o(W,t))&&(!(n||!o(this,t)||!o(D,t)||o(this,F)&&this[F][t])||n)},V=function(t,n){if(t=m(t),n=w(n,!0),t!==H||!o(D,n)||o(W,n)){var e=M(t,n);return!e||!o(D,n)||o(t,F)&&t[F][n]||(e.enumerable=!0),e}},Z=function(t){for(var n,e=T(m(t)),r=[],i=0;e.length>i;)o(D,n=e[i++])||n==F||n==c||r.push(n);return r},tt=function(t){for(var n,e=t===H,r=T(e?W:m(t)),i=[],u=0;r.length>u;)!o(D,n=r[u++])||e&&!o(H,n)||i.push(D[n]);return i};K||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),n=function(e){this===H&&n.call(W,e),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),U(this,t,O(1,e))};return i&&J&&U(H,t,{configurable:!0,set:n}),G(t)},f(L[k],"toString",function(){return this._k}),j.f=V,P.f=z,e(33).f=_.f=Z,e(19).f=X,e(34).f=tt,i&&!e(18)&&f(H,"propertyIsEnumerable",X,!0),v.f=function(t){return G(d(t))}),u(u.G+u.W+u.F*!K,{Symbol:L});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)d(nt[et++]);for(var nt=E(d.store),et=0;nt.length>et;)y(nt[et++]);u(u.S+u.F*!K,"Symbol",{for:function(t){return o(B,t+="")?B[t]:B[t]=L(t)},keyFor:function(t){if($(t))return h(B,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){J=!0},useSimple:function(){J=!1}}),u(u.S+u.F*!K,"Object",{create:Q,defineProperty:z,defineProperties:Y,getOwnPropertyDescriptor:V,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),N&&u(u.S+u.F*(!K||a(function(){var t=L();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var n,e,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return n=r[1],"function"==typeof n&&(e=n),!e&&x(n)||(n=function(t,n){if(e&&(n=e.call(this,t,n)),!$(n))return n}),r[1]=n,C.apply(N,r)}}}),L[k][q]||e(5)(L[k],q,L[k].valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,n,e){e(25)("asyncIterator")},function(t,n,e){e(25)("observable")},function(t,n,e){e(62);for(var r=e(1),o=e(5),i=e(17),u=e(7)("toStringTag"),f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var a=f[c],s=r[a],l=s&&s.prototype;l&&!l[u]&&o(l,u,a),i[a]=i.Array}},function(t,n){"use strict";var e={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&t.indexOf("KHTML")==-1,mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:t.indexOf("Safari")==-1,weixin:t.indexOf("MicroMessenger")==-1}}()};t.exports=e},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=e(40),i=r(o),u=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):o[t]||t}function n(t){return l[t]}var e=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,r=/['<> "&]/g,o={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},f=/\u00a0/g,c=/<br\s*\/?>/gi,a=/\r?\n/g,s=/\s/g,l={};for(var p in o)l[o[p]]=p;return o["&apos;"]="'",l["'"]="&#39;",{encode:function(t){return t?(""+t).replace(r,n).replace(a,"<br/>").replace(s,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(c,"\n").replace(e,t).replace(f," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e+=2)n.push(String.fromCharCode("0x"+t.slice(e,e+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,e=t.length;e>n;n++)t[n]=u.encodeObject(t[n]);else if("object"==("undefined"==typeof t?"undefined":(0,i.default)(t)))for(var r in t)t[r]=u.encodeObject(t[r]);else if("string"==typeof t)return u.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=u},function(t,n){function e(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=e},function(t,n){function e(t,n){if(t.classList)t.classList.remove(n);else{var e=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(e," ")}}t.exports=e},,,function(t,n){"use strict";function e(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){var n=document.querySelectorAll(".article-entry a:not(.article-more-a)");n.forEach(function(t){var n=t.getAttribute("target");n&&""!==n||t.setAttribute("target","_blank")})}var e=document.querySelector("#js-aboutme");e&&0!==e.length&&(e.innerHTML=e.innerText)}t.exports={init:e}},,,,,,,,,function(t,n){function e(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var e=t.nextSibling;return e?t.parentNode.insertBefore(n,e):t.parentNode.appendChild(n)}t.exports=e}])</script><script src="/./main.f6a68c.js"></script><script>!function(){var e=function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)};e("/slider.885efe.js")}()</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
      
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'friends')"><a href="javascript:void(0)" q-class="active:friends">友链</a></li>
      
        
      
      <li style="width: 33.333333333333336%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于我</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">SDN</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Linux</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Shell</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Leetcode</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Golang</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Algorithm</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">DPDK</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Snort</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">网络</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Resume</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">面经</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Docker</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br>1、请确保node版本大于6.2<br>2、在博客根目录（注意不是yilia根目录）执行以下命令：<br> npm i hexo-generator-json-content --save<br><br>
            3、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: false
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    
    	<section class="tools-section tools-section-friends" q-show="friends">
  		
        <ul class="search-ul">
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title" rel="external nofollow noopener noreferrer"><i class="icon-quo-left icon"></i>友情链接1</a>
            </li>
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title" rel="external nofollow noopener noreferrer"><i class="icon-quo-left icon"></i>友情链接2</a>
            </li>
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title" rel="external nofollow noopener noreferrer"><i class="icon-quo-left icon"></i>友情链接3</a>
            </li>
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title" rel="external nofollow noopener noreferrer"><i class="icon-quo-left icon"></i>友情链接4</a>
            </li>
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title" rel="external nofollow noopener noreferrer"><i class="icon-quo-left icon"></i>友情链接5</a>
            </li>
          
            <li class="search-li">
              <a href="http://localhost:4000/" target="_blank" class="search-title" rel="external nofollow noopener noreferrer"><i class="icon-quo-left icon"></i>友情链接6</a>
            </li>
          
        </ul>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">闷声&lt;br&gt;发大财&lt;br&gt;最上川</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
